import {
  l
} from "./chunk-UEDWBRHL.js";
import {
  t
} from "./chunk-NCHYZR6L.js";
import {
  M,
  z
} from "./chunk-ZOHEEWVR.js";
import "./chunk-FKUVQAN6.js";
import "./chunk-3OC6TISQ.js";
import "./chunk-2735WBYK.js";
import {
  ie,
  ne
} from "./chunk-2RY5Y75R.js";
import "./chunk-PX3Q44FM.js";
import "./chunk-XYJMHUDA.js";
import "./chunk-CSLWFQJE.js";
import "./chunk-VUIQFLG6.js";
import "./chunk-A4HFWKMU.js";
import "./chunk-ZS33I7QE.js";
import "./chunk-KKDPZLGI.js";
import "./chunk-XTOI3E3Y.js";
import "./chunk-YYE6WDO2.js";
import "./chunk-WDZ5AAFL.js";
import "./chunk-QNBIVGAZ.js";
import "./chunk-EUYJEZD4.js";
import "./chunk-5KLICR5E.js";
import {
  O
} from "./chunk-RSPVLZNN.js";
import "./chunk-PH45YSDU.js";
import "./chunk-M5UHI5WR.js";
import "./chunk-L3FCQBVC.js";
import "./chunk-NLWV7Q6F.js";
import "./chunk-E2PV5YTZ.js";
import "./chunk-GLVTFP5O.js";
import "./chunk-DR3XNW4L.js";
import "./chunk-ZUBHLDU6.js";
import "./chunk-7EG7BYWF.js";
import "./chunk-OZXJDVTE.js";
import "./chunk-FQVGAALF.js";
import "./chunk-DOLURTZY.js";
import "./chunk-W3WHCGIQ.js";
import "./chunk-HPWZ2OON.js";
import "./chunk-5HSVWQOA.js";
import "./chunk-C2BBLDPU.js";
import "./chunk-GWA3PLGA.js";
import "./chunk-FXWSVUF2.js";
import "./chunk-CNS4YGGN.js";
import {
  e,
  u
} from "./chunk-DOQ3SAAR.js";
import "./chunk-UHAU5IXU.js";
import "./chunk-3U2FS2TT.js";
import "./chunk-ZXXKE5XP.js";
import "./chunk-MATER45R.js";
import "./chunk-6UW2VZVV.js";
import "./chunk-GAARA5JM.js";
import "./chunk-Y2CLYMXQ.js";
import "./chunk-EHNCW2SL.js";
import "./chunk-HIPTG7BJ.js";
import "./chunk-REPJV7SP.js";
import "./chunk-F42HXUMI.js";
import "./chunk-BAMKEIAF.js";
import "./chunk-CZNLCEZN.js";
import "./chunk-UNJDKTFU.js";
import "./chunk-DH42JQZX.js";
import "./chunk-674HAVOZ.js";
import "./chunk-MHGDFNBE.js";
import "./chunk-J2V5CZSS.js";
import "./chunk-7D57YBLP.js";
import "./chunk-JZM5YUHA.js";
import "./chunk-ZF5PVI2P.js";
import "./chunk-EQK73KLU.js";
import "./chunk-OBGBLQQX.js";
import "./chunk-FXYPEAR7.js";
import "./chunk-V3CNLYUD.js";
import "./chunk-TEHNQYQD.js";
import "./chunk-TPJLFGOT.js";
import "./chunk-CQX57DED.js";
import "./chunk-3CQBBMMD.js";
import "./chunk-T35GN7EL.js";
import "./chunk-7U6V6KY2.js";
import "./chunk-NFY4EX6G.js";
import "./chunk-GJ7PJ7XG.js";
import "./chunk-ULGEYK3G.js";
import "./chunk-F3KGLZDZ.js";
import "./chunk-CHTUPHTO.js";
import "./chunk-453UIKKW.js";
import "./chunk-5BLDWPLW.js";
import "./chunk-PD5Q7TDW.js";
import "./chunk-7G6CKDLW.js";
import "./chunk-FFUMVAL2.js";
import "./chunk-3JQ6N63Z.js";
import "./chunk-U3J7253Q.js";
import "./chunk-FWH3QSBQ.js";
import "./chunk-2UENN434.js";
import "./chunk-UYRCWUYQ.js";
import "./chunk-HMVAPW5X.js";
import "./chunk-IYZKKFJM.js";
import "./chunk-JZJWZ6DN.js";
import "./chunk-6TJCVOLN.js";

// node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js
var c = new z(null, true);
var h = e(t.size);
var m = e(t.maxSize);
var u2 = e(t.lineWidth);
var f = 1;
function y(e2) {
  const t2 = e2 == null ? void 0 : e2.size;
  if ("number" == typeof t2)
    return { width: t2, height: t2 };
  return { width: null != t2 && "object" == typeof t2 && "width" in t2 ? t2.width : null, height: null != t2 && "object" == typeof t2 && "height" in t2 ? t2.height : null };
}
async function d(e2, r = {}) {
  var _a;
  const { node: a, opacity: d2, symbolConfig: g } = r, p = null != g && "object" == typeof g && "isSquareFill" in g && g.isSquareFill, w = r.cimOptions || r, b = w.geometryType || O((_a = e2 == null ? void 0 : e2.data) == null ? void 0 : _a.symbol), M2 = y(r), { feature: j, fieldMap: v } = w;
  if (null == M2.width || null == M2.height) {
    const t2 = await ne.resolveSymbolOverrides(e2.data, j, null, v, b);
    if (!t2)
      return null;
    (e2 = e2.clone()).data = { type: "CIMSymbolReference", symbol: t2 }, e2.data.primitiveOverrides = void 0;
    const r2 = [];
    ie.fetchResources(t2, c.resourceManager, r2), ie.fetchFonts(t2, c.resourceManager, r2), r2.length > 0 && await Promise.all(r2);
    const n = ie.getEnvelope(t2, null, c.resourceManager), o = n == null ? void 0 : n.width, a2 = n == null ? void 0 : n.height;
    M2.width = "esriGeometryPolygon" === b ? h : "esriGeometryPolyline" === b ? u2 : null != o && isFinite(o) ? Math.min(o, m) : h, M2.height = "esriGeometryPolygon" === b ? h : null != a2 && isFinite(a2) ? Math.max(Math.min(a2, m), f) : h;
  }
  const S = await c.rasterizeCIMSymbolAsync(e2, j, M2, p || "esriGeometryPolygon" !== b ? M.Preview : M.Legend, v, b);
  if (!S)
    return null;
  const { width: C, height: L } = S, I = document.createElement("canvas");
  I.width = C, I.height = L;
  I.getContext("2d").putImageData(S, 0, 0);
  const P = u(M2.width), x = u(M2.height), z2 = new Image(P, x);
  z2.src = I.toDataURL(), z2.ariaLabel = r.ariaLabel ?? null, z2.alt = r.ariaLabel ?? "", null != d2 && (z2.style.opacity = `${d2}`);
  let F = z2;
  if (null != r.effectView) {
    const e3 = { shape: { type: "image", x: 0, y: 0, width: P, height: x, src: z2.src }, fill: null, stroke: null, offset: [0, 0] };
    F = l([[e3]], [P, x], { effectView: r.effectView, ariaLabel: r.ariaLabel });
  }
  return a && F && a.appendChild(F), F;
}
export {
  d as previewCIMSymbol
};
//# sourceMappingURL=previewCIMSymbol-JEY7DG7L.js.map

import {
  C,
  a2 as a5,
  a4 as a6,
  e as e2,
  f2 as f3,
  i2,
  m as m3,
  n5,
  o2 as o5,
  p3 as p5,
  r4 as r2,
  s4 as s7,
  t as t2,
  u2 as u,
  u5 as u2,
  w2
} from "./chunk-F5EKF66B.js";
import {
  b as b3
} from "./chunk-PVUG2RDQ.js";
import {
  D,
  I
} from "./chunk-KKDPZLGI.js";
import {
  A,
  a as a4,
  b as b2,
  j as j3,
  n as n3,
  n2 as n4,
  v as v2,
  w
} from "./chunk-WXSXHXM4.js";
import {
  d
} from "./chunk-PYQNXC2L.js";
import {
  p as p4
} from "./chunk-NHHKW3WR.js";
import {
  a as a3,
  m as m2,
  p as p3
} from "./chunk-V4EIGIRT.js";
import {
  f as f4
} from "./chunk-MNR4BIGQ.js";
import {
  N as N2,
  b
} from "./chunk-2NTQWEQZ.js";
import {
  c
} from "./chunk-IR32DXLL.js";
import {
  y as y2
} from "./chunk-WIQR3T32.js";
import {
  t
} from "./chunk-DKJBDKGA.js";
import {
  f as f2,
  i,
  s as s6
} from "./chunk-YK2WEG7V.js";
import {
  h as h2
} from "./chunk-WAPUHORU.js";
import {
  m,
  n as n2,
  y as y3
} from "./chunk-5HSVWQOA.js";
import {
  o as o4
} from "./chunk-DOQ3SAAR.js";
import {
  h
} from "./chunk-ZXXKE5XP.js";
import {
  n
} from "./chunk-EHNCW2SL.js";
import {
  o as o3
} from "./chunk-F42HXUMI.js";
import {
  p as p2,
  v
} from "./chunk-BAMKEIAF.js";
import {
  j as j2
} from "./chunk-ZF5PVI2P.js";
import {
  j
} from "./chunk-FXYPEAR7.js";
import {
  M
} from "./chunk-T35GN7EL.js";
import {
  f,
  p,
  x2 as x
} from "./chunk-7U6V6KY2.js";
import {
  o,
  r
} from "./chunk-NFY4EX6G.js";
import {
  s as s5
} from "./chunk-ULGEYK3G.js";
import {
  o as o2,
  s as s4
} from "./chunk-F3KGLZDZ.js";
import {
  l
} from "./chunk-CHTUPHTO.js";
import {
  y
} from "./chunk-453UIKKW.js";
import {
  a2,
  s as s3
} from "./chunk-5BLDWPLW.js";
import {
  e
} from "./chunk-PD5Q7TDW.js";
import {
  N,
  T
} from "./chunk-7G6CKDLW.js";
import {
  s2 as s,
  s3 as s2
} from "./chunk-HMVAPW5X.js";
import {
  a
} from "./chunk-IYZKKFJM.js";
import {
  R
} from "./chunk-JZJWZ6DN.js";

// node_modules/@arcgis/core/layers/support/rasterEnums.js
var a7 = o2()({ RSP_NearestNeighbor: "nearest", RSP_BilinearInterpolation: "bilinear", RSP_CubicConvolution: "cubic", RSP_Majority: "majority" });
var i3 = o2()({ esriNoDataMatchAny: "any", esriNoDataMatchAll: "all" });
var n6 = o2()({ U1: "u1", U2: "u2", U4: "u4", U8: "u8", S8: "s8", U16: "u16", S16: "s16", U32: "u32", S32: "s32", F32: "f32", F64: "f64", C64: "c64", C128: "c128", UNKNOWN: "unknown" });

// node_modules/@arcgis/core/layers/support/RasterFunctionInfo.js
var i4 = class extends l {
  constructor() {
    super(...arguments), this.pixelType = "unknown";
  }
};
e([y({ type: String, json: { write: true } })], i4.prototype, "name", void 0), e([y({ type: String, json: { write: true } })], i4.prototype, "description", void 0), e([y({ type: T, json: { type: T, write: true, name: "_object_id" } })], i4.prototype, "id", void 0), e([y({ type: String, json: { type: n6.jsonValues, read: n6.read, write: n6.write } })], i4.prototype, "pixelType", void 0), e([y({ type: String, json: { write: true } })], i4.prototype, "type", void 0), i4 = e([a2("esri.layers.support.RasterFunctionInfo")], i4);
var n7 = i4;

// node_modules/@arcgis/core/layers/support/RasterFunctionVariable.js
var p6 = class extends l {
  constructor() {
    super(...arguments), this.isDataset = false, this.isPublic = false, this.type = "RasterFunctionVariable";
  }
};
e([y({ type: String, json: { write: true } })], p6.prototype, "name", void 0), e([y({ type: Number, json: { type: T, write: true, name: "_object_id" } })], p6.prototype, "id", void 0), e([y({ type: Boolean, json: { write: true } })], p6.prototype, "isDataset", void 0), e([y({ type: Boolean, json: { write: true } })], p6.prototype, "isPublic", void 0), e([y({ json: { write: true } })], p6.prototype, "value", void 0), e([y({ type: String, json: { write: true } })], p6.prototype, "type", void 0), p6 = e([a2("esri.layers.support.RasterFunctionVariable")], p6);
var i5 = p6;

// node_modules/@arcgis/core/layers/support/RasterFunctionProperties.js
var i6 = { key: "type", base: null, typeMap: { RasterFunctionVariable: i5 } };
var a8 = class extends l {
};
e([y({ types: i6, json: { types: i6, name: "MatchVariable" } })], a8.prototype, "matchVariable", void 0), e([y({ types: i6, json: { types: i6, name: "UnionDimension" } })], a8.prototype, "unionDimension", void 0), e([y({ type: Number, json: { type: T, write: true, name: "_object_id" } })], a8.prototype, "id", void 0), e([y({ type: String, json: { write: true } })], a8.prototype, "type", void 0), a8 = e([a2("esri.layers.support.RasterFunctionProperties")], a8);
var n8 = a8;

// node_modules/@arcgis/core/layers/support/RasterFunctionTemplate.js
var y4 = new s4({ 0: "mosaic", 1: "item", 2: "item-group" }, { useNumericKeys: true });
var a9 = class extends l {
  constructor() {
    super(...arguments), this.functionType = "mosaic", this.type = "RasterFunctionTemplate";
  }
};
e([y({ type: [String], json: { write: true } })], a9.prototype, "aliases", void 0), e([y({ type: Object, json: { write: true } })], a9.prototype, "arguments", void 0), e([y({ type: String, json: { write: true } })], a9.prototype, "description", void 0), e([y({ type: n7, json: { write: true, name: "function" } })], a9.prototype, "functionInfo", void 0), e([y({ type: y4.apiValues, json: { type: [0, 1, 2], read: y4.read, write: y4.write } })], a9.prototype, "functionType", void 0), e([y({ type: String, json: { write: true } })], a9.prototype, "group", void 0), e([y({ type: String, json: { write: true } })], a9.prototype, "help", void 0), e([y({ type: Number, json: { type: T, write: true, name: "_object_id" } })], a9.prototype, "id", void 0), e([y({ type: String, json: { write: true } })], a9.prototype, "name", void 0), e([y({ type: String, json: { write: true, name: "definition" } })], a9.prototype, "queryDefinition", void 0), e([y({ type: String, json: { write: true } })], a9.prototype, "tag", void 0), e([y({ type: n8, json: { write: true } })], a9.prototype, "properties", void 0), e([y({ type: String, json: { write: true } })], a9.prototype, "thumbnail", void 0), e([y({ type: String, json: { write: true } })], a9.prototype, "thumbnailEx", void 0), e([y({ json: { type: ["RasterFunctionTemplate"], write: true } })], a9.prototype, "type", void 0), a9 = e([a2("esri.layers.support.RasterFunctionTemplate")], a9);
var c2 = a9;

// node_modules/@arcgis/core/layers/support/RasterFunction.js
var c3;
var p7 = /* @__PURE__ */ new Set(["raster", "raster2", "dem", "fillraster"]);
var m4 = /* @__PURE__ */ new Set(["rasters"]);
var f5 = (t5) => t5 && t5.rasterFunction ? d2.fromJSON(t5) : t5;
var l2 = (t5) => t5 && t5 instanceof d2 ? t5.toJSON() : t5;
var y5 = (t5) => (t5 == null ? void 0 : t5.functionName) && !t5.declaredClass;
var F = (t5) => y5(t5) ? new d2(t5) : t5;
var h3 = (t5) => {
  if (null == t5)
    return null;
  t5 = a(t5);
  const e3 = {};
  for (const n10 of Object.keys(t5))
    p7.has(n10.toLowerCase()) ? e3[n10] = f5(t5[n10]) : m4.has(n10.toLowerCase()) && Array.isArray(t5[n10]) ? e3[n10] = t5[n10].map(f5) : e3[n10] = t5[n10];
  return e3;
};
var w3 = { types: { key: "type", base: null, typeMap: { RasterFunctionTemplate: c2 } }, json: { write: true, name: "rasterFunctionDefinition" } };
var d2 = c3 = class extends l {
  constructor(t5) {
    super(t5), this.functionName = null, this.outputPixelType = "unknown", this.variableName = null, this.functionDefinition = null;
  }
  set functionArguments(t5) {
    if (t5) {
      const e3 = Object.keys(t5);
      if (e3.some((e4) => p7.has(e4.toLowerCase()) && y5(t5[e4])) || e3.some((e4) => m4.has(e4.toLowerCase()) && Array.isArray(t5[e4]) && t5[e4].some((t6) => y5(t6)))) {
        t5 = a(t5);
        for (const n10 of e3)
          p7.has(n10.toLowerCase()) ? t5[n10] = F(t5[n10]) : m4.has(n10.toLowerCase()) && Array.isArray(t5[n10]) && (t5[n10] = t5[n10].map((t6) => F(t6)));
      }
    }
    this._set("functionArguments", t5);
  }
  readFunctionArguments(t5) {
    return h3(t5);
  }
  writeFunctionArguments(t5, e3, n10) {
    const o7 = {};
    for (const r4 of Object.keys(t5))
      p7.has(r4.toLowerCase()) ? o7[r4] = l2(t5[r4]) : m4.has(r4.toLowerCase()) && Array.isArray(t5[r4]) ? o7[r4] = t5[r4].map(l2) : o7[r4] = l2(t5[r4]);
    e3[n10] = o7;
  }
  readFunctionName(t5, e3) {
    const n10 = e3.rasterFunctionInfos, o7 = e3.name;
    return o7 || (n10 && n10.length && "None" !== n10[0].name ? n10[0].name : e3.rasterFunctionDefinition ? e3.rasterFunctionDefinition.name : e3.rasterFunction);
  }
  get rasterFunctionDefinition() {
    var _a;
    return (_a = this.functionDefinition) == null ? void 0 : _a.toJSON();
  }
  set rasterFunctionDefinition(t5) {
    this.functionDefinition = t5 ? c2.fromJSON(t5) : null;
  }
  clone() {
    return new c3({ functionName: this.functionName, functionArguments: a(this.functionArguments), outputPixelType: this.outputPixelType, variableName: this.variableName, rasterFunctionDefinition: a(this.rasterFunctionDefinition) });
  }
};
e([y({ json: { type: Object, name: "rasterFunctionArguments" } })], d2.prototype, "functionArguments", null), e([o("functionArguments")], d2.prototype, "readFunctionArguments", null), e([r("functionArguments")], d2.prototype, "writeFunctionArguments", null), e([y({ json: { type: String, write: { target: "rasterFunction" } } })], d2.prototype, "functionName", void 0), e([o("functionName", ["rasterFunction", "rasterFunctionInfos", "rasterFunctionDefinition"])], d2.prototype, "readFunctionName", null), e([o3({ C128: "c128", C64: "c64", F32: "f32", F64: "f64", S16: "s16", S32: "s32", S8: "s8", U1: "u1", U16: "u16", U2: "u2", U32: "u32", U4: "u4", U8: "u8", UNKNOWN: "unknown" }, { ignoreUnknown: false }), y({ json: { default: "unknown" } })], d2.prototype, "outputPixelType", void 0), e([y({ type: String, json: { read: true, write: true } })], d2.prototype, "variableName", void 0), e([y()], d2.prototype, "rasterFunctionDefinition", null), e([y(w3)], d2.prototype, "functionDefinition", void 0), d2 = c3 = e([a2("esri.layers.support.RasterFunction")], d2);
var N3 = d2;

// node_modules/@arcgis/core/renderers/FlowRenderer.js
var c4;
var d3 = new s4({ flow_from: "flow-from", flow_to: "flow-to" });
var h4 = c4 = class extends v2(l) {
  constructor(o7) {
    super(o7), this.density = 0.8, this.color = new h([255, 255, 255, 1]), this.maxPathLength = 200, this.trailWidth = 1.5, this.flowSpeed = 10, this.trailLength = 100, this.smoothing = 0, this.flowRepresentation = "flow-from", this.type = "flow", this.authoringInfo = null, this.legendOptions = null, this.trailCap = "butt", this.background = "none";
  }
  clone() {
    var _a, _b;
    const { density: o7, maxPathLength: t5, trailWidth: e3, flowSpeed: r4, trailLength: i8, smoothing: s9, flowRepresentation: n10, trailCap: p10, background: a13 } = this, l8 = this.color.clone(), m10 = (this.visualVariables || []).map((o8) => o8.clone()), d10 = (_a = this.authoringInfo) == null ? void 0 : _a.clone(), h9 = (_b = this.legendOptions) == null ? void 0 : _b.clone();
    return new c4({ density: o7, color: l8, maxPathLength: t5, trailWidth: e3, flowSpeed: r4, trailLength: i8, trailCap: p10, background: a13, smoothing: s9, flowRepresentation: n10, visualVariables: m10, authoringInfo: d10, legendOptions: h9 });
  }
  getSymbol(o7, t5) {
  }
  async getSymbolAsync(o7, t5) {
  }
  getSymbols() {
    return [];
  }
};
e([y({ type: Number, json: { write: true } })], h4.prototype, "density", void 0), e([y({ type: h, json: { write: { allowNull: true } } })], h4.prototype, "color", void 0), e([y({ type: Number, cast: o4, json: { write: true } })], h4.prototype, "maxPathLength", void 0), e([y({ type: Number, cast: o4, json: { write: true } })], h4.prototype, "trailWidth", void 0), e([y({ type: Number, json: { write: true } })], h4.prototype, "flowSpeed", void 0), e([y({ type: Number, json: { write: true } })], h4.prototype, "trailLength", void 0), e([y({ type: Number, cast: o4, json: { write: false } })], h4.prototype, "smoothing", void 0), e([y({ type: d3.apiValues, json: { type: d3.jsonValues, read: { reader: d3.read }, write: { writer: d3.write } } })], h4.prototype, "flowRepresentation", void 0), e([o3({ flowRenderer: "flow" })], h4.prototype, "type", void 0), e([y({ type: j3, json: { write: true } })], h4.prototype, "authoringInfo", void 0), e([y({ type: p4, json: { write: true } })], h4.prototype, "legendOptions", void 0), e([y({ type: String, json: { write: true } })], h4.prototype, "trailCap", void 0), e([y({ type: String, json: { write: true } })], h4.prototype, "background", void 0), h4 = c4 = e([a2("esri.renderers.FlowRenderer")], h4);
var u3 = h4;

// node_modules/@arcgis/core/renderers/support/ColormapInfo.js
var c5 = class extends l {
  constructor() {
    super(...arguments), this.value = null, this.label = null, this.color = null;
  }
};
e([y({ type: Number, json: { write: true } })], c5.prototype, "value", void 0), e([y({ type: String, json: { write: true } })], c5.prototype, "label", void 0), e([y({ type: h, json: { type: [T], write: true } })], c5.prototype, "color", void 0), c5 = e([a2("esri.renderers.support.ColormapInfo")], c5);
var l3 = c5;

// node_modules/@arcgis/core/renderers/RasterColormapRenderer.js
var c6;
var m5 = c6 = class extends l {
  constructor(o7) {
    super(o7), this.colormapInfos = null, this.type = "raster-colormap";
  }
  static createFromColormap(o7, r4) {
    if (!o7)
      return null;
    const t5 = 5 === o7[0].length, s9 = [...o7].sort((o8, r5) => o8[0] - r5[0]).map((o8) => l3.fromJSON({ value: o8[0], color: t5 ? o8.slice(1, 5) : o8.slice(1, 4).concat([255]), label: r4 ? r4[o8[0]] ?? "" : o8[0] }));
    return new c6({ colormapInfos: s9 });
  }
  static createFromColorramp(o7) {
    const r4 = w2(o7);
    return c6.createFromColormap(r4);
  }
  clone() {
    return new c6({ colormapInfos: this.colormapInfos.map((o7) => o7.toJSON()) });
  }
  extractColormap() {
    return this.colormapInfos.map(({ value: o7, color: r4 }) => [o7, r4.r, r4.g, r4.b, r4.a > 1 ? r4.a : 255 * r4.a & 255]).sort((o7, r4) => o7[0] - r4[0]);
  }
};
e([y({ type: [l3], json: { write: true } })], m5.prototype, "colormapInfos", void 0), e([o3({ rasterColormap: "raster-colormap" })], m5.prototype, "type", void 0), m5 = c6 = e([a2("esri.renderers.RasterColormapRenderer")], m5);
var l4 = m5;

// node_modules/@arcgis/core/renderers/RasterShadedReliefRenderer.js
var c7;
var d4 = c7 = class extends l {
  constructor(e3) {
    super(e3), this.altitude = 45, this.azimuth = 315, this.colorRamp = null, this.hillshadeType = "traditional", this.pixelSizePower = 0.664, this.pixelSizeFactor = 0.024, this.scalingType = "none", this.type = "raster-shaded-relief", this.zFactor = 1;
  }
  readColorRamp(e3) {
    return p3(e3);
  }
  clone() {
    return new c7({ hillshadeType: this.hillshadeType, altitude: this.altitude, azimuth: this.azimuth, zFactor: this.zFactor, scalingType: this.scalingType, pixelSizeFactor: this.pixelSizeFactor, pixelSizePower: this.pixelSizePower, colorRamp: a(this.colorRamp) });
  }
};
e([y({ type: Number, json: { write: true } })], d4.prototype, "altitude", void 0), e([y({ type: Number, json: { write: true } })], d4.prototype, "azimuth", void 0), e([y({ types: m2, json: { write: true } })], d4.prototype, "colorRamp", void 0), e([o("colorRamp")], d4.prototype, "readColorRamp", null), e([y({ type: ["traditional", "multi-directional"], json: { write: true } })], d4.prototype, "hillshadeType", void 0), e([y({ type: Number, json: { write: true } })], d4.prototype, "pixelSizePower", void 0), e([y({ type: Number, json: { write: true } })], d4.prototype, "pixelSizeFactor", void 0), e([y({ type: ["none", "adjusted"], json: { write: true } })], d4.prototype, "scalingType", void 0), e([o3({ rasterShadedRelief: "raster-shaded-relief" })], d4.prototype, "type", void 0), e([y({ type: Number, json: { write: true } })], d4.prototype, "zFactor", void 0), d4 = c7 = e([a2("esri.renderers.RasterShadedReliefRenderer")], d4);
var m6 = d4;

// node_modules/@arcgis/core/renderers/RasterStretchRenderer.js
var d5;
var h5 = d5 = class extends l {
  constructor(t5) {
    super(t5), this.colorRamp = null, this.computeGamma = false, this.dynamicRangeAdjustment = false, this.gamma = [], this.maxPercent = null, this.minPercent = null, this.numberOfStandardDeviations = null, this.outputMax = null, this.outputMin = null, this.sigmoidStrengthLevel = null, this.statistics = [], this.histograms = null, this.useGamma = false, this.stretchType = "none", this.type = "raster-stretch";
  }
  readColorRamp(t5) {
    if (t5)
      return p3(t5);
  }
  writeStatistics(t5, e3, r4) {
    (t5 == null ? void 0 : t5.length) && (Array.isArray(t5[0]) || (t5 = t5.map((t6) => [t6.min, t6.max, t6.avg, t6.stddev])), e3[r4] = t5);
  }
  readStretchType(t5, e3) {
    let r4 = e3.stretchType;
    return "number" == typeof r4 && (r4 = a5[r4]), n5.read(r4);
  }
  clone() {
    return new d5({ stretchType: this.stretchType, outputMin: this.outputMin, outputMax: this.outputMax, useGamma: this.useGamma, computeGamma: this.computeGamma, statistics: a(this.statistics), gamma: a(this.gamma), sigmoidStrengthLevel: this.sigmoidStrengthLevel, numberOfStandardDeviations: this.numberOfStandardDeviations, minPercent: this.minPercent, maxPercent: this.maxPercent, colorRamp: a(this.colorRamp), histograms: a(this.histograms), dynamicRangeAdjustment: this.dynamicRangeAdjustment });
  }
};
e([y({ types: m2, json: { write: true } })], h5.prototype, "colorRamp", void 0), e([o("colorRamp")], h5.prototype, "readColorRamp", null), e([y({ type: Boolean, json: { write: true } })], h5.prototype, "computeGamma", void 0), e([y({ type: Boolean, json: { write: { target: "dra" }, read: { source: "dra" } } })], h5.prototype, "dynamicRangeAdjustment", void 0), e([y({ type: [Number], json: { write: true } })], h5.prototype, "gamma", void 0), e([y({ type: Number, json: { write: true } })], h5.prototype, "maxPercent", void 0), e([y({ type: Number, json: { write: true } })], h5.prototype, "minPercent", void 0), e([y({ type: Number, json: { write: true } })], h5.prototype, "numberOfStandardDeviations", void 0), e([y({ type: Number, json: { read: { source: "max" }, write: { target: "max" } } })], h5.prototype, "outputMax", void 0), e([y({ type: Number, json: { read: { source: "min" }, write: { target: "min" } } })], h5.prototype, "outputMin", void 0), e([y({ type: Number, json: { write: true } })], h5.prototype, "sigmoidStrengthLevel", void 0), e([y({ json: { type: [[Number]], write: true } })], h5.prototype, "statistics", void 0), e([y()], h5.prototype, "histograms", void 0), e([r("statistics")], h5.prototype, "writeStatistics", null), e([y({ type: Boolean, json: { write: true } })], h5.prototype, "useGamma", void 0), e([y({ type: n5.apiValues, json: { type: n5.jsonValues, write: n5.write } })], h5.prototype, "stretchType", void 0), e([o("stretchType", ["stretchType"])], h5.prototype, "readStretchType", null), e([o3({ rasterStretch: "raster-stretch" })], h5.prototype, "type", void 0), h5 = d5 = e([a2("esri.renderers.RasterStretchRenderer")], h5);
var y6 = h5;

// node_modules/@arcgis/core/renderers/VectorFieldRenderer.js
var S;
var u4 = /* @__PURE__ */ new Set(["esriMetersPerSecond", "esriKilometersPerHour", "esriKnots", "esriFeetPerSecond", "esriMilesPerHour"]);
var z = new s4({ beaufort_ft: "beaufort-ft", beaufort_km: "beaufort-km", beaufort_kn: "beaufort-kn", beaufort_m: "beaufort-m", beaufort_mi: "beaufort-mi", classified_arrow: "classified-arrow", ocean_current_kn: "ocean-current-kn", ocean_current_m: "ocean-current-m", simple_scalar: "simple-scalar", single_arrow: "single-arrow", wind_speed: "wind-barb" });
var Z = new s4({ flow_from: "flow-from", flow_to: "flow-to" });
var b4 = S = class extends v2(l) {
  constructor(e3) {
    super(e3), this.attributeField = "Magnitude", this.flowRepresentation = "flow-from", this.rotationType = "arithmetic", this.style = "single-arrow", this.symbolTileSize = 50, this.type = "vector-field";
  }
  readInputUnit(e3, M3) {
    return u4.has(e3) ? s7.fromJSON(e3) : null;
  }
  readOutputUnit(e3, M3) {
    return u4.has(e3) ? s7.fromJSON(e3) : null;
  }
  get styleRenderer() {
    const e3 = this.style, M3 = this.attributeField, i8 = this._createStyleRenderer(e3);
    return i8.field = M3, i8;
  }
  get sizeVariables() {
    const e3 = [];
    if (this.visualVariables)
      for (const M3 of this.visualVariables)
        "size" === M3.type && e3.push(M3);
    if (0 === e3.length) {
      const M3 = new b2({ field: "Magnitude", minSize: 0.2 * this.symbolTileSize, maxSize: 0.8 * this.symbolTileSize });
      this.visualVariables ? this.visualVariables.push(M3) : this._set("visualVariables", [M3]), e3.push(M3);
    }
    return e3;
  }
  get rotationVariables() {
    const e3 = [];
    if (this.visualVariables)
      for (const M3 of this.visualVariables)
        "rotation" === M3.type && e3.push(M3);
    if (0 === e3.length) {
      const M3 = new n3({ field: "Direction", rotationType: this.rotationType });
      this.visualVariables ? this.visualVariables.push(M3) : this._set("visualVariables", [M3]), e3.push(M3);
    }
    return e3;
  }
  clone() {
    return new S({ attributeField: this.attributeField, flowRepresentation: this.flowRepresentation, rotationType: this.rotationType, symbolTileSize: this.symbolTileSize, style: this.style, visualVariables: a(this.visualVariables), inputUnit: this.inputUnit, outputUnit: this.outputUnit });
  }
  async getGraphicsFromPixelData(e3, M3 = false, t5 = []) {
    var _a;
    const a13 = new Array(), I3 = a6(this.inputUnit, this.outputUnit), r4 = ((_a = this.rotationVariables[0]) == null ? void 0 : _a.rotationType) || this.rotationType, g3 = M3 ? f3(e3.pixelBlock, "vector-uv", r4, I3) : p5(e3.pixelBlock, "vector-magdir", I3);
    if (null == g3)
      return a13;
    const o7 = e3.extent, A2 = null != g3.mask && g3.mask.length > 0;
    let d10 = 0;
    const D4 = (o7.xmax - o7.xmin) / g3.width, w5 = (o7.ymax - o7.ymin) / g3.height;
    for (let l8 = 0; l8 < g3.height; l8++)
      for (let e4 = 0; e4 < g3.width; e4++, d10++) {
        let M4 = new x({ x: o7.xmin + e4 * D4 + D4 / 2, y: o7.ymax - l8 * w5 - w5 / 2, spatialReference: o7.spatialReference });
        M4 = (await b3(M4))[0];
        const I4 = t5.some((e5) => e5.intersects(M4));
        if ((!A2 || g3.mask[d10]) && !I4) {
          const e5 = { Magnitude: g3.pixels[0][d10], Direction: g3.pixels[1][d10] }, t6 = new h2({ geometry: { type: "point", x: M4.x, y: M4.y, spatialReference: o7.spatialReference }, attributes: e5 });
          t6.symbol = this._getVisualVariablesAppliedSymbol(t6), a13.push(t6);
        }
      }
    return a13;
  }
  getSymbol(e3, M3) {
  }
  async getSymbolAsync(e3, M3) {
  }
  getSymbols() {
    return [];
  }
  getClassBreakInfos() {
    var _a;
    return (_a = this.styleRenderer) == null ? void 0 : _a.classBreakInfos;
  }
  getDefaultSymbol() {
    var _a;
    return (_a = this.styleRenderer) == null ? void 0 : _a.defaultSymbol;
  }
  _getDefaultSymbol(e3) {
    return new y3({ path: "M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z", outline: new m({ width: 0 }), size: 20, color: e3 || new h([0, 92, 230]) });
  }
  _getVisualVariablesAppliedSymbol(e3) {
    var _a, _b;
    if (!e3)
      return;
    const M3 = (_b = (_a = this.styleRenderer) == null ? void 0 : _a.getSymbol(e3)) == null ? void 0 : _b.clone(), i8 = this.sizeVariables, t5 = this.rotationVariables;
    if (i8 && i8.length && this.sizeVariables.forEach((i9) => D(M3, N2([i9], e3))), t5 && t5.length) {
      const i9 = "flow-to" === this.flowRepresentation === ("ocean-current-kn" === this.style || "ocean-current-m" === this.style) ? 0 : 180;
      e3.attributes.Direction = e3.attributes.Direction + i9, this.rotationVariables.forEach((i10) => I(M3, b(i10, e3), i10.axis));
    }
    return M3;
  }
  _createStyleRenderer(e3) {
    let M3 = { defaultSymbol: this._getDefaultSymbol(), classBreakInfos: [] };
    switch (e3) {
      case "single-arrow":
        M3 = this._createSingleArrowRenderer();
        break;
      case "beaufort-kn":
        M3 = this._createBeaufortKnotsRenderer();
        break;
      case "beaufort-m":
        M3 = this._createBeaufortMeterRenderer();
        break;
      case "beaufort-ft":
        M3 = this._createBeaufortFeetRenderer();
        break;
      case "beaufort-mi":
        M3 = this._createBeaufortMilesRenderer();
        break;
      case "beaufort-km":
        M3 = this._createBeaufortKilometersRenderer();
        break;
      case "ocean-current-m":
        M3 = this._createCurrentMeterRenderer();
        break;
      case "ocean-current-kn":
        M3 = this._createCurrentKnotsRenderer();
        break;
      case "simple-scalar":
        M3 = this._createSimpleScalarRenderer();
        break;
      case "wind-barb":
        M3 = this._createWindBarbsRenderer();
        break;
      case "classified-arrow":
        M3 = this._createClassifiedArrowRenderer();
    }
    return new w(M3);
  }
  _createSingleArrowRenderer() {
    return { defaultSymbol: this._getDefaultSymbol() };
  }
  _createBeaufortKnotsRenderer() {
    const e3 = [0, 1, 3, 6, 10, 16, 21, 27, 33, 40, 47, 55, 63], i8 = [[40, 146, 199], [89, 162, 186], [129, 179, 171], [160, 194, 155], [191, 212, 138], [218, 230, 119], [250, 250, 100], [252, 213, 83], [252, 179, 102], [250, 141, 52], [247, 110, 42], [240, 71, 29]];
    return { defaultSymbol: this._getDefaultSymbol(new h([214, 47, 39])), classBreakInfos: this._getClassBreaks(e3, i8) };
  }
  _createBeaufortMeterRenderer() {
    const e3 = [0, 0.2, 1.8, 3.3, 5.4, 8.5, 11, 14.1, 17.2, 20.8, 24.4, 28.6, 32.7], i8 = [[69, 117, 181], [101, 137, 184], [132, 158, 186], [162, 180, 189], [192, 204, 190], [222, 227, 191], [255, 255, 191], [255, 220, 161], [250, 185, 132], [245, 152, 105], [237, 117, 81], [232, 21, 21]];
    return { defaultSymbol: this._getDefaultSymbol(new h([214, 47, 39])), classBreakInfos: this._getClassBreaks(e3, i8) };
  }
  _createBeaufortFeetRenderer() {
    const e3 = this._getDefaultSymbol(new h([214, 47, 39]));
    let i8 = [0, 0.2, 1.8, 3.3, 5.4, 8.5, 11, 14.1, 17.2, 20.8, 24.4, 28.6, 32.7];
    const t5 = [[69, 117, 181], [101, 137, 184], [132, 158, 186], [162, 180, 189], [192, 204, 190], [222, 227, 191], [255, 255, 191], [255, 220, 161], [250, 185, 132], [245, 152, 105], [237, 117, 81], [232, 21, 21]], a13 = 3.28084;
    i8 = i8.map((e4) => e4 * a13);
    return { defaultSymbol: e3, classBreakInfos: this._getClassBreaks(i8, t5) };
  }
  _createBeaufortMilesRenderer() {
    const e3 = this._getDefaultSymbol(new h([214, 47, 39]));
    let i8 = [0, 0.2, 1.8, 3.3, 5.4, 8.5, 11, 14.1, 17.2, 20.8, 24.4, 28.6, 32.7];
    const t5 = [[69, 117, 181], [101, 137, 184], [132, 158, 186], [162, 180, 189], [192, 204, 190], [222, 227, 191], [255, 255, 191], [255, 220, 161], [250, 185, 132], [245, 152, 105], [237, 117, 81], [232, 21, 21]], a13 = 2.23694;
    i8 = i8.map((e4) => e4 * a13);
    return { defaultSymbol: e3, classBreakInfos: this._getClassBreaks(i8, t5) };
  }
  _createBeaufortKilometersRenderer() {
    const e3 = this._getDefaultSymbol(new h([214, 47, 39]));
    let i8 = [0, 0.2, 1.8, 3.3, 5.4, 8.5, 11, 14.1, 17.2, 20.8, 24.4, 28.6, 32.7];
    const t5 = [[69, 117, 181], [101, 137, 184], [132, 158, 186], [162, 180, 189], [192, 204, 190], [222, 227, 191], [255, 255, 191], [255, 220, 161], [250, 185, 132], [245, 152, 105], [237, 117, 81], [232, 21, 21]], a13 = 3.6;
    i8 = i8.map((e4) => e4 * a13);
    return { defaultSymbol: e3, classBreakInfos: this._getClassBreaks(i8, t5) };
  }
  _createCurrentMeterRenderer() {
    const e3 = [0, 0.5, 1, 1.5, 2], i8 = [[78, 26, 153], [179, 27, 26], [202, 128, 26], [177, 177, 177]];
    return { defaultSymbol: this._getDefaultSymbol(new h([177, 177, 177])), classBreakInfos: this._getClassBreaks(e3, i8) };
  }
  _createCurrentKnotsRenderer() {
    const e3 = [0, 0.25, 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4], i8 = [[0, 0, 0], [0, 37, 100], [78, 26, 153], [151, 0, 100], [179, 27, 26], [177, 78, 26], [202, 128, 26], [177, 179, 52], [177, 177, 177]];
    return { defaultSymbol: this._getDefaultSymbol(new h([177, 177, 177])), classBreakInfos: this._getClassBreaks(e3, i8) };
  }
  _createClassifiedArrowRenderer() {
    var _a;
    const e3 = this._getDefaultSymbol(new h([56, 168, 0]));
    let i8 = [0, 1e-6, 3.5, 7, 10.5, 14];
    if ((_a = this.sizeVariables) == null ? void 0 : _a.length) {
      const e4 = this.sizeVariables[0].minDataValue, M3 = this.sizeVariables[0].maxDataValue;
      if (e4 && M3) {
        const t6 = (M3 - e4) / 5;
        i8 = Array.from(Array(6).keys()).map((M4) => e4 + t6 * M4);
      }
    }
    const t5 = [[56, 168, 0], [139, 309, 0], [255, 255, 0], [255, 128, 0], [255, 0, 0]];
    return { defaultSymbol: e3, classBreakInfos: this._getClassBreaks(i8, t5) };
  }
  _createSimpleScalarRenderer() {
    return { defaultSymbol: n2.fromJSON({ imageData: "iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=", height: 20, width: 20, type: "esriPMS", angle: 0 }) };
  }
  _createWindBarbsRenderer() {
    const e3 = Array.from(Array(31).keys()).map((e4) => 5 * e4), M3 = [{ range: "0-5", path: "M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "5-10", path: "M25 0 L25 40 M25 35 L17.5 37.5", imageData: "PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "10-15", path: "M25 0 L25 40 L10 45 L25 40", imageData: "PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "15-20", path: "M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5", imageData: "PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "20-25", path: "M25 0 L25 40 L10 45 L25 40 M25 35 L10 40", imageData: "PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+" }, { range: "25-30", path: "M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5", imageData: "PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "30-35", path: "M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "35-40", path: "M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "40-45", path: "M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "45-50", path: "M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "50-55", path: "M25 0 L25 40 L10 40 L25 35", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "55-60", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "60-65", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L10 35", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "65-70", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "70-75", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "75-80", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "80-85", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "85-90", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "90-95", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "95-100", path: "M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }, { range: "100-105", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "105-110", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "110-115", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+" }, { range: "115-120", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "120-125", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+" }, { range: "125-130", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "130-135", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+" }, { range: "135-140", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg==" }, { range: "140-145", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+" }, { range: "145-150", path: "M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5", imageData: "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4=" }], i8 = n2.fromJSON({ imageData: "iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC", height: 20, width: 20, type: "esriPMS", angle: 0 }), t5 = e3.map((t6, a13) => {
      let I3;
      if (a13 !== e3.length - 1)
        if (0 === a13)
          I3 = { minValue: t6, maxValue: e3[a13 + 1], symbol: i8 };
        else {
          const i9 = n2.fromJSON({ type: "esriPMS", imageData: M3[a13].imageData, contentType: "image/svg+xml", height: 32, width: 32, angle: 0 });
          I3 = { minValue: t6, maxValue: e3[a13 + 1], symbol: i9 };
        }
      return new a4(I3);
    });
    return { defaultSymbol: i8, classBreakInfos: t5 };
  }
  _getClassBreaks(e3, i8) {
    return i8.map((i9, t5) => new a4({ minValue: e3[t5], maxValue: e3[t5 + 1], symbol: this._getDefaultSymbol(new h(i9)) }));
  }
};
e([y({ type: String, json: { write: true } })], b4.prototype, "attributeField", void 0), e([y({ type: Z.apiValues, json: { type: Z.jsonValues, read: { reader: Z.read }, write: { writer: Z.write } } })], b4.prototype, "flowRepresentation", void 0), e([y({ type: ["geographic", "arithmetic"], json: { write: true } })], b4.prototype, "rotationType", void 0), e([y({ type: z.apiValues, json: { type: z.jsonValues, read: { reader: z.read }, write: { writer: z.write } } })], b4.prototype, "style", void 0), e([y({ json: { write: true } })], b4.prototype, "symbolTileSize", void 0), e([y({ type: s7.apiValues, json: { type: s7.jsonValues, write: { writer: s7.write } } })], b4.prototype, "inputUnit", void 0), e([o("inputUnit")], b4.prototype, "readInputUnit", null), e([y({ type: s7.apiValues, json: { type: s7.jsonValues, read: { reader: s7.read }, write: { writer: s7.write } } })], b4.prototype, "outputUnit", void 0), e([o("outputUnit")], b4.prototype, "readOutputUnit", null), e([o3({ vectorField: "vector-field" })], b4.prototype, "type", void 0), e([y({ type: w })], b4.prototype, "styleRenderer", null), e([y({ type: b2 })], b4.prototype, "sizeVariables", null), e([y({ type: n3 })], b4.prototype, "rotationVariables", null), b4 = S = e([a2("esri.renderers.VectorFieldRenderer")], b4);
var h6 = b4;

// node_modules/@arcgis/core/rasterRenderers.js
var l5 = { key: "type", base: null, typeMap: { "unique-value": A, "class-breaks": w, "raster-colormap": l4, "raster-stretch": y6, "vector-field": h6, "raster-shaded-relief": m6, flow: u3 } };
var d6 = { ...l5, typeMap: { ...l5.typeMap } };
delete d6.typeMap["vector-field"], delete d6.typeMap.flow;
var p8 = { uniqueValue: A, classBreaks: w, rasterStretch: y6, rasterColormap: l4, vectorField: h6, rasterShadedRelief: m6, flowRenderer: u3 };
function u5(e3) {
  return e3 && p8[e3.type] || null;
}
function c8(r4, s9) {
  if (!r4)
    return null;
  if ("classBreaks" === r4.type && r4.classificationMethod) {
    const e3 = r4.authoringInfo || { classificationMethod: "" };
    e3.classificationMethod = r4.classificationMethod, r4.authoringInfo = e3;
  }
  "vectorField" === r4.type && r4.visualVariables && !Array.isArray(r4.visualVariables) && (r4.visualVariables = [r4.visualVariables]);
  const t5 = u5(r4);
  if (t5) {
    const e3 = new t5();
    return e3.read(r4, s9), e3;
  }
  return s9 && s9.messages && r4 && s9.messages.push(new s3("renderer:unsupported", "Renderers of type '" + (r4.type || "unknown") + "' are not supported", { definition: r4, context: s9 })), null;
}

// node_modules/@arcgis/core/layers/support/DimensionalDefinition.js
var a10;
var n9 = a10 = class extends l {
  constructor(e3) {
    super(e3), this.variableName = null, this.dimensionName = null, this.values = [], this.isSlice = false;
  }
  clone() {
    return new a10({ variableName: this.variableName, dimensionName: this.dimensionName, values: a(this.values), isSlice: this.isSlice });
  }
};
e([y({ type: String, json: { write: true } })], n9.prototype, "variableName", void 0), e([y({ type: String, json: { write: true } })], n9.prototype, "dimensionName", void 0), e([y({ type: N.array(N.oneOf([N.native(Number), N.array(N.native(Number))])), json: { write: true } })], n9.prototype, "values", void 0), e([y({ type: Boolean, json: { write: true } })], n9.prototype, "isSlice", void 0), n9 = a10 = e([a2("esri.layers.support.DimensionalDefinition")], n9);
var p9 = n9;

// node_modules/@arcgis/core/layers/support/MosaicRule.js
var w4;
var y7 = o2()({ MT_FIRST: "first", MT_LAST: "last", MT_MIN: "min", MT_MAX: "max", MT_MEAN: "mean", MT_BLEND: "blend", MT_SUM: "sum" });
var M2 = o2()({ esriMosaicNone: "none", esriMosaicCenter: "center", esriMosaicNadir: "nadir", esriMosaicViewpoint: "viewpoint", esriMosaicAttribute: "attribute", esriMosaicLockRaster: "lock-raster", esriMosaicNorthwest: "northwest", esriMosaicSeamline: "seamline" });
function g(e3) {
  let t5;
  switch (e3 ? e3.toLowerCase().replace("esrimosaic", "") : "") {
    case "byattribute":
    case "attribute":
      t5 = "esriMosaicAttribute";
      break;
    case "lockraster":
      t5 = "esriMosaicLockRaster";
      break;
    case "center":
      t5 = "esriMosaicCenter";
      break;
    case "northwest":
      t5 = "esriMosaicNorthwest";
      break;
    case "nadir":
      t5 = "esriMosaicNadir";
      break;
    case "viewpoint":
      t5 = "esriMosaicViewpoint";
      break;
    case "seamline":
      t5 = "esriMosaicSeamline";
      break;
    default:
      t5 = "esriMosaicNone";
  }
  return M2.fromJSON(t5);
}
var f6 = w4 = class extends l {
  constructor(e3) {
    super(e3), this.ascending = true, this.itemRasterFunction = null, this.lockRasterIds = null, this.method = null, this.multidimensionalDefinition = null, this.objectIds = null, this.operation = null, this.sortField = null, this.sortValue = null, this.viewpoint = null, this.where = null;
  }
  readAscending(e3, t5) {
    return null != t5.ascending ? t5.ascending : null == t5.sortAscending || t5.sortAscending;
  }
  get itemRenderingRule() {
    return t(s.getLogger(this), "itemRenderingRule", { replacement: "itemRasterFunction", version: "4.27", warnOnce: true }), this._get("itemRasterFunction");
  }
  set itemRenderingRule(e3) {
    t(s.getLogger(this), "itemRenderingRule", { replacement: "itemRasterFunction", version: "4.27", warnOnce: true }), this._set("itemRasterFunction", e3);
  }
  readMethod(e3, t5) {
    return g(t5.mosaicMethod || t5.defaultMosaicMethod);
  }
  writeMultidimensionalDefinition(e3, t5, o7) {
    null != e3 && (e3 = e3.filter(({ variableName: e4, dimensionName: t6 }) => e4 && "*" !== e4 || t6)).length && (t5[o7] = e3.map((e4) => e4.toJSON()));
  }
  readOperation(e3, t5) {
    const o7 = t5.mosaicOperation, r4 = t5.mosaicOperator && t5.mosaicOperator.toLowerCase(), i8 = o7 || (r4 ? y7.toJSON(r4) : null);
    return y7.fromJSON(i8) || "first";
  }
  castSortValue(e3) {
    return null == e3 || "string" == typeof e3 || "number" == typeof e3 ? e3 : `${e3}`;
  }
  clone() {
    return new w4({ ascending: this.ascending, itemRasterFunction: a(this.itemRasterFunction), lockRasterIds: a(this.lockRasterIds), method: this.method, multidimensionalDefinition: a(this.multidimensionalDefinition), objectIds: a(this.objectIds), operation: this.operation, sortField: this.sortField, sortValue: this.sortValue, viewpoint: a(this.viewpoint), where: this.where });
  }
};
e([y({ type: Boolean, json: { write: true } })], f6.prototype, "ascending", void 0), e([o("ascending", ["ascending", "sortAscending"])], f6.prototype, "readAscending", null), e([y({ type: N3, json: { name: "itemRenderingRule", write: true } })], f6.prototype, "itemRasterFunction", void 0), e([y({ type: N3 })], f6.prototype, "itemRenderingRule", null), e([y({ type: [T], json: { write: { overridePolicy() {
  return { enabled: "lock-raster" === this.method };
} } } })], f6.prototype, "lockRasterIds", void 0), e([y({ type: String, json: { type: M2.jsonValues, write: { target: "mosaicMethod", writer: M2.write } } })], f6.prototype, "method", void 0), e([o("method", ["mosaicMethod", "defaultMosaicMethod"])], f6.prototype, "readMethod", null), e([y({ type: [p9], json: { write: true } })], f6.prototype, "multidimensionalDefinition", void 0), e([r("multidimensionalDefinition")], f6.prototype, "writeMultidimensionalDefinition", null), e([y({ type: [T], json: { name: "fids", write: true } })], f6.prototype, "objectIds", void 0), e([y({ json: { type: y7.jsonValues, read: { reader: y7.read }, write: { target: "mosaicOperation", writer: y7.write } } })], f6.prototype, "operation", void 0), e([o("operation", ["mosaicOperation", "mosaicOperator"])], f6.prototype, "readOperation", null), e([y({ type: String, json: { write: { overridePolicy() {
  return { enabled: "attribute" === this.method };
} } } })], f6.prototype, "sortField", void 0), e([y({ type: [String, Number], json: { write: { allowNull: true, overridePolicy() {
  return { enabled: "attribute" === this.method, allowNull: true };
} } } })], f6.prototype, "sortValue", void 0), e([s5("sortValue")], f6.prototype, "castSortValue", null), e([y({ type: x, json: { write: true } })], f6.prototype, "viewpoint", void 0), e([y({ type: String, json: { write: true } })], f6.prototype, "where", void 0), f6 = w4 = e([a2("esri.layers.support.MosaicRule")], f6);
var j4 = f6;

// node_modules/@arcgis/core/layers/support/MultidimensionalSubset.js
var l6;
var m7 = { base: p, key: "type", typeMap: { extent: M, polygon: j } };
var u6 = l6 = class extends l {
  constructor(e3) {
    super(e3), this.areaOfInterest = null, this.subsetDefinitions = null;
  }
  get dimensions() {
    const { subsetDefinitions: e3 } = this;
    if (null == e3 || 0 === e3.length)
      return [];
    const t5 = /* @__PURE__ */ new Map();
    e3.forEach((e4) => {
      if (!e4.dimensionName)
        return;
      let s10, r4;
      if (Array.isArray(e4.values[0])) {
        const t6 = e4.values;
        s10 = t6[0][0], r4 = t6[e4.values.length - 1][1];
      } else {
        const t6 = e4.values;
        s10 = t6[0], r4 = t6[e4.values.length - 1];
      }
      if (t5.has(e4.dimensionName)) {
        const o7 = t5.get(e4.dimensionName);
        o7[0] = Math.min(s10, o7[0]), o7[1] = Math.max(r4, o7[1]);
      } else
        t5.set(e4.dimensionName, [s10, r4]);
    });
    const s9 = [];
    for (const r4 of t5)
      s9.push({ name: r4[0], extent: r4[1] });
    return s9;
  }
  get variables() {
    const { subsetDefinitions: e3 } = this;
    if (null == e3 || 0 === e3.length)
      return [];
    const t5 = /* @__PURE__ */ new Set();
    return e3.forEach((e4) => {
      e4.variableName && t5.add(e4.variableName);
    }), [...t5];
  }
  clone() {
    var _a;
    const e3 = (_a = this.subsetDefinitions) == null ? void 0 : _a.map((e4) => e4.clone()), t5 = this.areaOfInterest ? this.areaOfInterest.clone() : this.areaOfInterest;
    return new l6({ areaOfInterest: t5, subsetDefinitions: e3 });
  }
};
e([y({ types: m7, json: { read: p2, write: true } })], u6.prototype, "areaOfInterest", void 0), e([y({ readOnly: true })], u6.prototype, "dimensions", null), e([y({ readOnly: true })], u6.prototype, "variables", null), e([y({ type: [p9], json: { write: true } })], u6.prototype, "subsetDefinitions", void 0), u6 = l6 = e([a2("esri.layers.support.MultidimensionalSubset")], u6);
var c9 = u6;

// node_modules/@arcgis/core/layers/support/RasterJobHandler.js
var t3 = class {
  constructor() {
    this._workerThread = null, this._destroyed = false;
  }
  async initialize() {
    const e3 = await f4("RasterWorker");
    this._destroyed ? e3.close() : this._workerThread = e3;
  }
  destroy() {
    this._destroyed = true, this._workerThread && (this._workerThread.close(), this._workerThread = null);
  }
  async convertVectorFieldData(r4, t5) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    const n10 = await this._workerThread.invoke("convertVectorFieldData", { pixelBlock: r4.pixelBlock.toJSON(), type: r4.dataType }, t5);
    return n10 ? new u(n10) : null;
  }
  computeStatisticsHistograms(r4, o7) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    return this._workerThread.invoke("computeStatisticsHistograms", { pixelBlock: r4.pixelBlock.toJSON() }, o7);
  }
  async decode(r4, t5) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    const n10 = await this._workerThread.invoke("decode", r4, t5);
    return n10 ? new u(n10) : null;
  }
  async symbolize(r4, t5) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    const n10 = { extent: r4.extent && r4.extent.toJSON(), pixelBlock: null != r4.pixelBlock && r4.pixelBlock.toJSON(), simpleStretchParams: r4.simpleStretchParams, bandIds: r4.bandIds }, a13 = await this._workerThread.invoke("symbolize", n10, t5);
    return a13 ? new u(a13) : null;
  }
  async updateSymbolizer(r4, o7) {
    var _a;
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    const t5 = (_a = r4 == null ? void 0 : r4.rendererJSON) == null ? void 0 : _a.histograms;
    await Promise.all(this._workerThread.broadcast("updateSymbolizer", { symbolizerJSON: r4.toJSON(), histograms: t5 }, o7));
  }
  async updateRasterFunction(r4, o7) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    await Promise.all(this._workerThread.broadcast("updateRasterFunction", { rasterFunctionJSON: r4.toJSON() }, o7));
  }
  async process(r4, t5) {
    var _a, _b;
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    const n10 = await this._workerThread.invoke("process", { extent: (_a = r4.extent) == null ? void 0 : _a.toJSON(), primaryPixelSizes: (_b = r4.primaryPixelSizes) == null ? void 0 : _b.map((e3) => null != e3 ? e3.toJSON() : null), primaryPixelBlocks: r4.primaryPixelBlocks.map((e3) => null != e3 ? e3.toJSON() : null), primaryRasterIds: r4.primaryRasterIds }, t5);
    return n10 ? new u(n10) : null;
  }
  async stretch(r4, t5) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    if (!(r4 == null ? void 0 : r4.pixelBlock))
      return null;
    const n10 = { srcPixelBlock: r4.pixelBlock.toJSON(), stretchParams: r4.stretchParams }, a13 = await this._workerThread.invoke("stretch", n10, t5);
    return a13 ? new u(a13) : null;
  }
  async split(r4, t5) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    if (!(r4 == null ? void 0 : r4.pixelBlock))
      return null;
    const n10 = { srcPixelBlock: r4.pixelBlock.toJSON(), tileSize: r4.tileSize, maximumPyramidLevel: r4.maximumPyramidLevel }, a13 = await this._workerThread.invoke("split", n10, t5);
    return a13 && a13.forEach((e3, r5) => {
      a13.set(r5, e3 ? u.fromJSON(e3) : null);
    }), a13;
  }
  async estimateStatisticsHistograms(r4, o7) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    if (!(r4 == null ? void 0 : r4.pixelBlock))
      return null;
    const t5 = { srcPixelBlock: r4.pixelBlock.toJSON() };
    return await this._workerThread.invoke("estimateStatisticsHistograms", t5, o7);
  }
  async mosaicAndTransform(r4, t5) {
    var _a;
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    if (!((_a = r4 == null ? void 0 : r4.srcPixelBlocks) == null ? void 0 : _a.length))
      return { pixelBlock: null };
    const n10 = { ...r4, srcPixelBlocks: r4.srcPixelBlocks.map((e3) => null != e3 ? e3.toJSON() : null) }, a13 = await this._workerThread.invoke("mosaicAndTransform", n10, t5);
    return { pixelBlock: a13.pixelBlock ? new u(a13.pixelBlock) : null, localNorthDirections: a13.localNorthDirections };
  }
  async createFlowMesh(r4, o7) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    const t5 = { buffer: r4.flowData.data.buffer, maskBuffer: r4.flowData.mask.buffer, width: r4.flowData.width, height: r4.flowData.height }, { meshType: n10, simulationSettings: a13 } = r4, i8 = await this._workerThread.invoke("createFlowMesh", { meshType: n10, flowData: t5, simulationSettings: a13 }, { ...o7, transferList: [t5.buffer, t5.maskBuffer] });
    return { vertexData: new Float32Array(i8.vertexBuffer), indexData: new Uint32Array(i8.indexBuffer) };
  }
  getProjectionOffsetGrid(r4, o7) {
    if (!this._workerThread)
      throw new s2("raster-jobhandler:no-connection", "no available worker connection");
    const t5 = null != r4.datumTransformation ? r4.datumTransformation.steps.map((e3) => ({ wkid: e3.wkid, wkt: e3.wkt, isInverse: e3.isInverse })) : null, n10 = null != r4.rasterTransform ? r4.rasterTransform.toJSON() : null, a13 = { projectedExtent: r4.projectedExtent.toJSON(), srcBufferExtent: r4.srcBufferExtent.toJSON(), pixelSize: r4.pixelSize, hasWrapAround: r4.hasWrapAround, spacing: r4.spacing, datumTransformationSteps: t5, rasterTransform: n10, isAdaptive: r4.isAdaptive, includeGCSGrid: r4.includeGCSGrid };
    return this._workerThread.invoke("getProjectionOffsetGrid", a13, o7);
  }
};

// node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js
function t4(e3, n10, i8) {
  var _a;
  const a13 = n10.shift();
  if (0 === i8.length) {
    const e4 = [];
    i8.push({ sliceId: -1, multidimensionalDefinition: e4 });
  }
  const s9 = i8.length;
  for (let t5 = 0; t5 < s9; t5++) {
    const n11 = i8.shift().multidimensionalDefinition;
    (_a = a13.values) == null ? void 0 : _a.forEach((t6) => {
      i8.push({ sliceId: -1, multidimensionalDefinition: [...n11, { variableName: e3, dimensionName: a13.name, values: [t6] }] });
    });
  }
  n10.length && t4(e3, n10, i8);
}
function i7(e3, n10) {
  const i8 = [];
  let a13 = 0;
  return (n10 ? e3.variables.filter((e4) => e4.name.toLowerCase() === n10.toLowerCase()) : [...e3.variables].sort((e4, n11) => e4.name > n11.name ? 1 : -1)).forEach((e4) => {
    const n11 = [], s9 = [...e4.dimensions].sort((e5, n12) => e5.name > n12.name ? -1 : 1);
    t4(e4.name, s9, n11), n11.forEach((e5) => {
      i8.push({ ...e5, sliceId: a13++ });
    });
  }), i8;
}
function a11(e3, n10, t5) {
  let i8 = e3;
  if (n10 && (n10 = [...n10].sort((e4, n11) => e4.dimensionName < n11.dimensionName ? -1 : 1)).forEach(({ dimensionName: e4, values: n11, isSlice: t6 }) => {
    n11.length && (i8 = i8.filter((i9) => {
      const a13 = i9.multidimensionalDefinition.find((n12) => n12.dimensionName === e4);
      if (null == a13)
        return false;
      const s9 = a13.values[0];
      return "number" == typeof s9 ? "number" == typeof n11[0] ? n11.includes(s9) : n11.some((e5) => e5[0] <= s9 && e5[1] >= s9) : "number" == typeof n11[0] ? n11.some((e5) => s9[0] <= e5 && s9[1] >= e5) : t6 ? n11.some((e5) => e5[0] === s9[0] && e5[0] === s9[1]) : n11.some((e5) => e5[0] >= s9[0] && e5[0] <= s9[1] || e5[1] >= s9[0] && e5[1] <= s9[1] || e5[0] < s9[0] && e5[1] > s9[1]);
    }));
  }), i8.length && t5 && null != t5.start && null != t5.end) {
    const e4 = t5.start.getTime(), n11 = t5.end.getTime(), a13 = i8[0].multidimensionalDefinition.findIndex((e5) => "StdTime" === e5.dimensionName);
    a13 > -1 && (i8 = i8.filter((t6) => {
      const i9 = t6.multidimensionalDefinition[a13].values[0];
      return e4 <= i9 && n11 >= i9;
    }));
  }
  return i8.map((e4) => e4.sliceId);
}
function s8(e3, n10) {
  return Array.isArray(e3) ? n10[0] === n10[1] ? e3[0] === n10[0] || e3[1] === n10[0] : e3[0] >= n10[0] && e3[0] <= n10[1] && e3[1] >= n10[0] && e3[1] <= n10[1] : e3 >= n10[0] && e3 <= n10[1];
}
function r3(e3, n10) {
  return e3[0] <= n10[0] && e3[1] >= n10[0] || e3[0] <= n10[1] && e3[1] >= n10[1] || e3[0] >= n10[0] && e3[1] <= n10[1];
}
function l7(e3) {
  return 1 === e3.length ? [e3[0], e3[0]] : [e3[0], e3[e3.length - 1]];
}
function u7(e3, n10, t5) {
  var _a, _b;
  if (!((_a = n10 == null ? void 0 : n10.subsetDefinitions) == null ? void 0 : _a.length))
    return e3;
  let i8;
  if (t5) {
    const { variables: a14 } = n10;
    if (a14.length && !a14.includes(t5))
      return null;
    const s9 = n10.subsetDefinitions.find((n11) => n11.dimensionName === e3.name && n11.variableName === t5);
    if (!((_b = s9 == null ? void 0 : s9.values) == null ? void 0 : _b.length))
      return e3;
    i8 = l7(s9.values);
  } else {
    const t6 = n10.dimensions.find(({ name: n11 }) => n11 === e3.name);
    i8 = t6 == null ? void 0 : t6.extent;
  }
  const a13 = i8;
  if (!a13 || !(a13 == null ? void 0 : a13.length))
    return e3;
  const r4 = e3.values.filter((e4) => s8(e4, a13));
  return { ...e3, extent: [...a13], values: r4 };
}
function o6(e3, n10, t5) {
  var _a;
  if (!((_a = n10 == null ? void 0 : n10.subsetDefinitions) == null ? void 0 : _a.length))
    return false;
  const { variables: i8 } = n10;
  if (i8.length && e3.some(({ variableName: e4 }) => e4 && !i8.includes(e4)))
    return true;
  for (let a13 = 0; a13 < e3.length; a13++) {
    const i9 = e3[a13], u9 = n10.subsetDefinitions.find((e4) => ("" === i9.variableName || e4.variableName === i9.variableName) && e4.dimensionName === i9.dimensionName);
    if (u9 == null ? void 0 : u9.values.length) {
      const e4 = l7(u9.values);
      if (!i9.isSlice && 2 === i9.values.length && !Array.isArray(i9.values[0]) && i9.values[0] !== i9.values[1] && t5) {
        if (!r3(i9.values, e4))
          return true;
      } else if (i9.values.some((n11) => !s8(n11, e4)))
        return true;
    }
  }
  return false;
}
function m8(e3, n10) {
  if (null == e3)
    return { isOutside: false };
  const { geometry: t5, timeExtent: i8, multidimensionalDefinition: a13 } = n10;
  let s9 = null;
  if (null != i8 && (s9 = c10(e3, i8), null == s9))
    return { isOutside: true };
  const { areaOfInterest: r4 } = e3;
  if (r4 && t5) {
    const e4 = "point" === t5.type ? t5 : "extent" === t5.type ? t5.center : "polygon" === t5.type ? t5.centroid : null;
    if (e4 && !r4.contains(e4))
      return { isOutside: true };
  }
  return null != a13 && a13.length && o6(a13, e3, true) ? { isOutside: true } : { isOutside: false, intersection: { geometry: t5, timeExtent: s9, multidimensionalDefinition: a13 } };
}
function c10(e3, t5) {
  const i8 = e3.dimensions.find(({ name: e4 }) => "StdTime" === e4);
  if (null == i8 || null == t5.start && null == t5.end)
    return t5;
  t5 = t5.clone();
  const { start: a13, end: s9 } = t5.toJSON(), r4 = a13 === s9 ? [a13] : null != a13 && null != s9 ? [a13, s9] : [a13 ?? s9];
  if (2 === r4.length && (i8 == null ? void 0 : i8.extent.length) && (r4[0] = Math.max(r4[0], i8.extent[0]), r4[1] = Math.min(r4[1], i8.extent[1] ?? i8.extent[0]), r4[1] < r4[0]))
    return null;
  return o6([new p9({ variableName: "", dimensionName: "StdTime", isSlice: 1 === r4.length, values: r4 })], e3, true) ? null : (t5.start = new Date(r4[0]), t5.end = new Date(r4[1] ?? r4[0]), t5);
}
function f7(e3, n10 = {}) {
  var _a, _b;
  const { multidimensionalInfo: t5, keyProperties: i8 } = e3;
  if (null == t5)
    return null;
  const { variableName: a13, multidimensionalSubset: s9, multidimensionalDefinition: r4 } = n10, l8 = null != r4 ? (_a = r4[0]) == null ? void 0 : _a.variableName : null, u9 = a13 || l8 || (i8 == null ? void 0 : i8.DefaultVariable);
  let { variables: o7 } = t5;
  ((_b = s9 == null ? void 0 : s9.variables) == null ? void 0 : _b.length) && (o7 = o7.filter(({ name: e4 }) => s9.variables.includes(e4)));
  return u9 ? o7.find(({ name: e4 }) => e4 === u9) ?? o7[0] : o7[0];
}
function d7(e3, t5 = {}) {
  const i8 = f7(e3, t5);
  if (!i8)
    return null;
  const a13 = [], { dimensions: s9, name: r4 } = i8;
  if (0 === s9.length)
    return [new p9({ variableName: r4, dimensionName: "", values: [], isSlice: true })];
  for (let l8 = 0; l8 < s9.length; l8++) {
    const e4 = u7(s9[l8], t5.multidimensionalSubset, r4);
    if (!e4)
      return null;
    const { values: i9, extent: o7 } = e4;
    let m10 = (i9 == null ? void 0 : i9[0]) ?? o7[0];
    "stdz" === e4.name.toLowerCase() && !e4.hasRanges && Math.abs(o7[1]) <= Math.abs(o7[0]) && (m10 = (i9 == null ? void 0 : i9.length) ? i9[i9.length - 1] : o7[1]), a13.push(new p9({ variableName: r4, dimensionName: e4.name, values: [m10], isSlice: !t5.useRangeForRangedDimensionInfo || !!e4.hasRanges }));
  }
  return a13;
}
function h7(e3) {
  return !(null == e3 || !e3.length) && e3.some((e4) => {
    if (null == e4.values)
      return true;
    const n10 = e4.values.length;
    return 0 === n10 || n10 > 1 || !e4.isSlice && Array.isArray(e4.values[0]);
  });
}
function g2(n10, t5) {
  var _a;
  if (null == t5 || null == n10)
    return null;
  let i8 = t5.variables.map((e3) => ({ ...e3 }));
  return ((_a = n10 == null ? void 0 : n10.variables) == null ? void 0 : _a.length) && (i8 = i8.filter(({ name: e3 }) => n10.variables.includes(e3)), i8.forEach((t6) => {
    t6.dimensions = t6.dimensions.map((e3) => u7(e3, n10, t6.name)).filter(R);
  })), i8;
}
function v3(e3, n10) {
  var _a;
  const { values: t5 } = n10;
  if (t5 == null ? void 0 : t5.length) {
    const n11 = Array.isArray(t5[0]), i9 = Array.isArray(e3);
    return n11 !== i9 ? -1 : n11 && i9 ? t5.findIndex((n12) => n12[0] === e3[0] && n12[1] === e3[1]) : t5.indexOf(e3);
  }
  const { extent: i8 } = n10;
  if (Array.isArray(e3) || e3 < i8[0] || e3 > i8[1])
    return -1;
  const a13 = n10.interval || 1;
  if ("ISO8601" !== n10.unit)
    return Math.round((e3 - i8[0]) / a13);
  const s9 = i8[0];
  let r4 = -1;
  switch (((_a = n10.intervalUnit) == null ? void 0 : _a.toLowerCase()) || "seconds") {
    case "seconds":
      r4 = Math.round((e3 - s9) / 1e3 / a13);
      break;
    case "minutes":
      r4 = Math.round((e3 - s9) / 6e4 / a13);
      break;
    case "hours":
      r4 = Math.round((e3 - s9) / 36e5 / a13);
      break;
    case "days":
      r4 = Math.round((e3 - s9) / 864e5 / a13);
      break;
    case "months":
      {
        const n11 = new Date(e3).getUTCFullYear() - new Date(s9).getUTCFullYear(), t6 = new Date(s9).getUTCMonth(), i9 = new Date(e3).getUTCMonth();
        r4 = 0 === n11 ? i9 - t6 : i9 + 11 - t6 + 12 * (n11 - 1);
      }
      break;
    case "years":
      r4 = Math.round((new Date(e3).getUTCFullYear() - new Date(s9).getUTCFullYear()) / a13);
      break;
    case "decades":
      r4 = Math.round((new Date(e3).getUTCFullYear() - new Date(s9).getUTCFullYear()) / 10 / a13);
  }
  return r4;
}
function b5(e3) {
  var _a, _b;
  let n10 = (_a = e3.values) == null ? void 0 : _a.length;
  if (n10)
    return n10;
  const { extent: t5, unit: i8 } = e3, a13 = e3.interval || 1, s9 = t5 ? t5[1] - t5[0] : 0;
  if ("ISO8601" !== i8)
    return Math.round(s9 / a13);
  switch (((_b = e3.intervalUnit) == null ? void 0 : _b.toLowerCase()) ?? "seconds") {
    case "seconds":
      n10 = Math.round(s9 / 1e3 / a13);
      break;
    case "minutes":
      n10 = Math.round(s9 / 6e4 / a13);
      break;
    case "hours":
      n10 = Math.round(s9 / 36e5 / a13);
      break;
    case "days":
      n10 = Math.round(s9 / 864e5 / a13);
      break;
    case "months":
      {
        const e4 = new Date(t5[1]).getUTCFullYear() - new Date(t5[0]).getUTCFullYear(), i9 = new Date(t5[0]).getUTCMonth(), a14 = new Date(t5[1]).getUTCMonth();
        n10 = 0 === e4 ? a14 - i9 + 1 : a14 + 11 - i9 + 12 * (e4 - 1) + 1;
      }
      break;
    case "years":
      n10 = Math.round((new Date(t5[1]).getUTCFullYear() - new Date(t5[0]).getUTCFullYear()) / a13);
      break;
    case "decades":
      n10 = Math.round((new Date(t5[1]).getUTCFullYear() - new Date(t5[0]).getUTCFullYear()) / 10 / a13);
      break;
    default:
      n10 = 0;
  }
  return n10;
}
function D2(e3, n10) {
  let t5 = 0;
  const i8 = e3[0].variableName, a13 = [...n10.variables].sort((e4, n11) => e4.name > n11.name ? 1 : -1);
  for (let s9 = 0; s9 < a13.length; s9++) {
    const n11 = a13[s9], r4 = [...n11.dimensions].sort((e4, n12) => e4.name > n12.name ? -1 : 1);
    if (n11.name !== i8) {
      t5 += r4.map((e4) => b5(e4)).reduce((e4, n12) => e4 * n12);
      continue;
    }
    const l8 = r4.map((e4) => b5(e4)), u9 = r4.length;
    for (let i9 = 0; i9 < u9; i9++) {
      const n12 = e3.find((e4) => e4.dimensionName === r4[i9].name);
      if (null == n12)
        return null;
      const a14 = v3(n12.values[0], r4[i9]);
      if (-1 === a14)
        return null;
      l8.shift(), t5 += i9 === u9 - 1 ? a14 : a14 * l8.reduce((e4, n13) => e4 * n13);
    }
    break;
  }
  return t5;
}

// node_modules/@arcgis/core/renderers/support/rasterRendererHelper.js
var T2 = 0.25;
var j5 = a3.fromJSON({ type: "multipart", colorRamps: [{ fromColor: [0, 0, 255], toColor: [0, 255, 255] }, { fromColor: [0, 255, 255], toColor: [255, 255, 0] }, { fromColor: [255, 255, 0], toColor: [255, 0, 0] }] });
var I2 = a3.fromJSON(C[0]);
var V = /* @__PURE__ */ new Set(["scientific", "standard-time", "vector-uv", "vector-magdir", "vector-u", "vector-v", "vector-magnitude", "vector-direction"]);
function k(e3, t5) {
  const { attributeTable: n10, colormap: a13 } = e3;
  if (o5(e3)) {
    const t6 = H2(e3);
    if (null != t6)
      return t6;
  }
  if (null != a13) {
    const t6 = J(e3);
    if (null != t6)
      return t6;
  }
  if (null != n10) {
    const t6 = N4(e3);
    if (null != t6)
      return t6;
  }
  return B(e3, t5);
}
function S2(e3, t5 = false) {
  const n10 = ["raster-stretch"];
  return u2(e3, t5) && n10.push("raster-colormap"), t2(e3) && n10.push("unique-value"), r2(e3, t5) && n10.push("class-breaks"), e2(e3) && n10.push("raster-shaded-relief"), o5(e3) && n10.push("vector-field"), i2(e3) && n10.push("flow"), n10;
}
function L(e3, t5, n10) {
  const a13 = ["nearest", "bilinear", "cubic", "majority"].find((e4) => e4 === (n10 == null ? void 0 : n10.toLowerCase()));
  if ("Map" === t5)
    return a13 ?? "bilinear";
  if ("standard-time" === e3.dataType)
    return a13 ?? "nearest";
  return "thematic" === e3.dataType || e3.attributeTable || e3.colormap ? "nearest" === a13 || "majority" === a13 ? a13 : "nearest" : a13 ?? "bilinear";
}
function B(e3, t5) {
  e3 = E(e3, t5 == null ? void 0 : t5.variableName);
  const { bandCount: n10 } = e3;
  let { bandIds: a13, stretchType: l8 } = t5 || {};
  (a13 == null ? void 0 : a13.some((e4) => e4 >= n10)) && (a13 = null);
  let r4 = e3.statistics, s9 = e3.histograms;
  n10 > 1 ? (a13 = (a13 == null ? void 0 : a13.length) ? a13 : q(e3), r4 = null == r4 ? null : a13 == null ? void 0 : a13.map((e4) => r4[e4]), s9 = null == s9 ? null : a13 == null ? void 0 : a13.map((e4) => s9[e4])) : a13 = [0], null == l8 && (l8 = W(e3));
  let i8 = false;
  switch (l8) {
    case "none":
      i8 = false;
      break;
    case "percent-clip":
      i8 = !(s9 == null ? void 0 : s9.length);
      break;
    default:
      i8 = !(r4 == null ? void 0 : r4.length);
  }
  const { dataType: o7 } = e3, u9 = 1 === (a13 == null ? void 0 : a13.length) && V.has(o7) ? j5 : null, m10 = new y6({ stretchType: l8, dynamicRangeAdjustment: i8, colorRamp: u9, outputMin: 0, outputMax: 255, gamma: 1 === (a13 == null ? void 0 : a13.length) ? [1] : [1, 1, 1], useGamma: false });
  return "percent-clip" === l8 ? m10.maxPercent = m10.minPercent = T2 : "standard-deviation" === l8 && (m10.numberOfStandardDeviations = 2), i8 || null == e3.multidimensionalInfo && !(t5 == null ? void 0 : t5.includeStatisticsInStretch) || ("percent-clip" === l8 ? m10.histograms = s9 : "min-max" !== l8 && "standard-deviation" !== l8 || (m10.statistics = r4)), m10;
}
function E(e3, t5) {
  if (!t5)
    return e3;
  let n10 = e3.statistics, l8 = e3.histograms;
  const { multidimensionalInfo: r4 } = e3;
  if (t5 && null != r4) {
    const e4 = r4.variables.find((e5) => e5.name === t5);
    if (e4) {
      const { statistics: t6, histograms: a13 } = e4;
      (t6 == null ? void 0 : t6.length) && (n10 = t6), (a13 == null ? void 0 : a13.length) && (l8 = a13);
    }
  }
  return m3.fromJSON({ ...e3.toJSON(), statistics: n10, histograms: l8 });
}
function q(e3) {
  const t5 = e3.bandCount;
  if (1 === t5)
    return null;
  if (2 === t5)
    return [0];
  const { bandInfos: n10 } = e3;
  let a13;
  if (n10.length === t5) {
    const { red: e4, green: t6, blue: l8, nir: r4 } = z2(n10);
    null != e4 && null != t6 && null != l8 ? a13 = [e4, t6, l8] : null != r4 && null != e4 && null != t6 && (a13 = [r4, e4, t6]);
  }
  return !a13 && t5 >= 3 && (a13 = [0, 1, 2]), a13;
}
function z2(e3) {
  const t5 = {};
  for (let n10 = 0; n10 < e3.length; n10++) {
    const a13 = e3[n10], l8 = a13.name.toLowerCase();
    if ("red" === l8)
      t5.red = n10;
    else if ("green" === l8)
      t5.green = n10;
    else if ("blue" === l8)
      t5.blue = n10;
    else if ("nearinfrared" === l8 || "nearinfrared_1" === l8 || "nir" === l8)
      t5.nir = n10;
    else if (a13.maxWavelength && a13.minWavelength) {
      const e4 = a13.minWavelength, l9 = a13.maxWavelength;
      null == t5.blue && e4 >= 410 && e4 <= 480 && l9 >= 480 && l9 <= 540 ? t5.blue = n10 : null == t5.green && e4 >= 490 && e4 <= 560 && l9 >= 560 && l9 <= 610 ? t5.green = n10 : null == t5.red && e4 >= 595 && e4 <= 670 && l9 >= 660 && l9 <= 730 ? t5.red = n10 : null == t5.nir && e4 >= 700 && e4 <= 860 && l9 >= 800 && l9 <= 950 && (t5.nir = n10);
    }
  }
  return t5;
}
function W(e3) {
  let t5 = "percent-clip";
  const { pixelType: n10, dataType: a13, histograms: l8, statistics: r4, multidimensionalInfo: s9 } = e3, i8 = V.has(a13) || "generic" === a13 && null != s9;
  return "u8" !== n10 || "processed" !== a13 && null != l8 && null != r4 ? "u8" === n10 || "elevation" === a13 || i8 ? t5 = "min-max" : null != l8 ? t5 = "percent-clip" : null != r4 && (t5 = "min-max") : t5 = "none", t5;
}
function N4(t5, n10, a13, l8) {
  if (!t2(t5, n10))
    return null;
  const { attributeTable: s9, statistics: i8 } = t5, u9 = O(s9, n10), m10 = D3(s9, "red"), f9 = D3(s9, "green"), p10 = D3(s9, "blue"), d10 = new j3(), b6 = [], g3 = /* @__PURE__ */ new Set(), y8 = !!(m10 && f9 && p10);
  if (null != s9)
    s9.features.forEach((t6) => {
      const n11 = t6.attributes[u9.name];
      if (!g3.has(t6.attributes[u9.name]) && null != n11) {
        g3.add(n11);
        const a14 = y8 && ("single" === m10.type || "double" === m10.type) && ("single" === f9.type || "double" === f9.type) && ("single" === p10.type || "double" === p10.type) && !s9.features.some((e3) => e3.attributes[m10.name] > 1 || e3.attributes[f9.name] > 1 || e3.attributes[p10.name] > 1), l9 = a14 ? 255 : 1;
        b6.push(new n4({ value: t6.attributes[u9.name], label: t6.attributes[u9.name] + "", symbol: { type: "simple-fill", style: "solid", outline: null, color: new h(y8 ? [t6.attributes[m10.name] * l9, t6.attributes[f9.name] * l9, t6.attributes[p10.name] * l9, 1] : [0, 0, 0, 0]) } }));
      }
    });
  else if (i8 == null ? void 0 : i8[0])
    for (let r4 = i8[0].min; r4 <= i8[0].max; r4++)
      b6.push(new n4({ value: r4, label: r4.toString(), symbol: { type: "simple-fill", style: "solid", outline: null, color: new h([0, 0, 0, 0]) } }));
  if (b6.sort((e3, t6) => e3.value && "string" == typeof e3.value.valueOf() ? 0 : e3.value > t6.value ? 1 : -1), !y8) {
    const t6 = w2(I2, { numColors: b6.length });
    b6.forEach((n11, a14) => n11.symbol.color = new h(t6[a14].slice(1, 4))), d10.colorRamp = I2;
  }
  if (a13 || l8) {
    const t6 = a13 || w2(l8, { numColors: b6.length }).map((e3) => e3.slice(1));
    b6.forEach((n11, a14) => n11.symbol.color = new h(t6[a14])), d10.colorRamp = l8;
  }
  return new A({ field: u9.name, uniqueValueInfos: b6, authoringInfo: d10 });
}
function O(e3, t5, a13) {
  let l8;
  return null != e3 ? (l8 = t5 ? e3.fields.find((e4) => t5.toLowerCase() === e4.name.toLowerCase()) : U(e3.fields), l8 || (a13 || (l8 = e3.fields.find((e4) => "string" === e4.type)), l8 || (l8 = D3(e3, "value")))) : l8 = new y2({ name: "value" }), l8;
}
function U(e3) {
  let t5;
  for (let n10 = 0; n10 < e3.length; n10++) {
    const a13 = e3[n10].name.toLowerCase();
    if ("string" === e3[n10].type) {
      if (a13.startsWith("class")) {
        t5 = e3[n10];
        break;
      }
      null == t5 && (a13.endsWith("name") || a13.endsWith("type")) && (t5 = e3[n10]);
    }
  }
  return t5;
}
function D3(e3, t5) {
  return null == e3 ? null : e3.fields.find((e4) => e4.name.toLowerCase() === t5);
}
function J(e3) {
  if (!u2(e3))
    return null;
  let t5;
  const { attributeTable: n10, colormap: a13 } = e3;
  if (null != n10) {
    const e4 = D3(n10, "value"), a14 = O(n10, null, true);
    "string" === a14.type && (t5 = {}, n10.features.forEach((n11) => {
      const l8 = n11.attributes;
      t5[l8[e4.name]] = a14 ? l8[a14.name] : l8[e4.name];
    }));
  }
  return l4.createFromColormap(a13, t5);
}
var _ = /* @__PURE__ */ new Map([["m/s", "meter-per-second"], ["km/h", "kilometer-per-hour"], ["knots", "knots"], ["ft/s", "feet-per-second"], ["mph", "mile-per-hour"]]);
function H2(e3) {
  if (!o5(e3))
    return null;
  let t5;
  if (null != e3.statistics && e3.statistics.length && ("vector-magdir" === e3.dataType || "vector-uv" === e3.dataType)) {
    const { minMagnitude: n11, maxMagnitude: a14 } = Y(e3.dataType, e3.statistics);
    t5 = [{ type: "size", field: "Magnitude", minSize: 10, maxSize: 40, minDataValue: n11, maxDataValue: a14 }];
  }
  const n10 = null != e3.multidimensionalInfo ? _.get(e3.multidimensionalInfo.variables[0].unit) : null, a13 = new h6({ visualVariables: t5, inputUnit: n10, rotationType: "geographic" });
  return a13.visualVariables = [...a13.sizeVariables, ...a13.rotationVariables], a13;
}
function K(e3) {
  var _a;
  return { color: (_a = e3.symbolLayers[0].material) == null ? void 0 : _a.color, type: "esriSFS", style: "esriSFSSolid" };
}
function Q(e3) {
  var _a, _b;
  if ("uniqueValue" === e3.type) {
    const t5 = e3.uniqueValueInfos, n10 = t5 == null ? void 0 : t5[0].symbol;
    return ((_a = n10 == null ? void 0 : n10.symbolLayers) == null ? void 0 : _a.length) && (e3.uniqueValueInfos = t5 == null ? void 0 : t5.map((e4) => ({ value: e4.value, label: e4.label, symbol: e4.symbol ? K(e4.symbol) : null }))), e3;
  }
  if ("classBreaks" === e3.type) {
    const t5 = e3.classBreakInfos, n10 = t5[0].symbol;
    return ((_b = n10 == null ? void 0 : n10.symbolLayers) == null ? void 0 : _b.length) && (e3.classBreakInfos = t5.map((e4) => ({ classMinValue: e4.classMinValue, classMaxValue: e4.classMaxValue, label: e4.label, symbol: e4.symbol ? K(e4.symbol) : null }))), e3;
  }
  return e3;
}
function Y(e3, t5) {
  let n10, a13;
  if ("vector-magdir" === e3)
    n10 = t5[0].min, a13 = t5[0].max;
  else {
    const e4 = t5[0].min, l8 = t5[0].max, r4 = t5[1].min, s9 = t5[1].max;
    n10 = 0, a13 = Math.max(Math.abs(e4), Math.abs(r4), Math.abs(l8), Math.abs(s9));
  }
  return { minMagnitude: n10, maxMagnitude: a13 };
}

// node_modules/@arcgis/core/rest/imageService/fetchRasterInfo.js
async function u8(u9, m10, f9) {
  var _a, _b, _c, _d, _e, _f;
  const p10 = f2(u9), { rasterFunction: c11, sourceJSON: d10 } = m10 || {}, h9 = c11 ? JSON.stringify(c11.rasterFunctionDefinition || c11) : null, g3 = s6({ ...p10.query, renderingRule: h9, f: "json" }), v4 = i(g3, f9);
  u9 = p10.path;
  const y8 = d10 || await j2(u9, v4).then((e3) => e3.data), S3 = y8.hasRasterAttributeTable ? j2(`${u9}/rasterAttributeTable`, v4) : null, V2 = y8.hasColormap ? j2(`${u9}/colormap`, v4) : null, x2 = y8.hasHistograms ? j2(`${u9}/histograms`, v4) : null, b6 = y8.currentVersion >= 10.3 ? j2(`${u9}/keyProperties`, v4) : null, D4 = y8.hasMultidimensions ? j2(`${u9}/multidimensionalInfo`, v4) : null, T3 = await Promise.allSettled([S3, V2, x2, b6, D4]);
  let j7 = null;
  if (y8.minValues && y8.minValues.length === y8.bandCount) {
    j7 = [];
    for (let e3 = 0; e3 < y8.minValues.length; e3++)
      j7.push({ min: y8.minValues[e3], max: y8.maxValues[e3], avg: y8.meanValues[e3], stddev: y8.stdvValues[e3] });
  }
  const R2 = M.fromJSON(y8.extent), w5 = Math.ceil(R2.width / y8.pixelSizeX - 0.1), J2 = Math.ceil(R2.height / y8.pixelSizeY - 0.1), N5 = f.fromJSON(y8.spatialReference || y8.extent.spatialReference), O2 = "fulfilled" === T3[0].status && T3[0].value ? d.fromJSON(T3[0].value.data) : null, I3 = "fulfilled" === T3[1].status ? (_a = T3[1].value) == null ? void 0 : _a.data.colormap : null, z3 = "fulfilled" === T3[2].status ? (_b = T3[2].value) == null ? void 0 : _b.data.histograms : null, C2 = "fulfilled" === T3[3].status ? ((_c = T3[3].value) == null ? void 0 : _c.data) ?? {} : {}, $ = "fulfilled" === T3[4].status ? (_d = T3[4].value) == null ? void 0 : _d.data.multidimensionalInfo : null;
  ((_e = $ == null ? void 0 : $.variables) == null ? void 0 : _e.length) && $.variables.forEach((e3) => {
    var _a2;
    ((_a2 = e3.statistics) == null ? void 0 : _a2.length) && e3.statistics.forEach((e4) => {
      e4.avg = e4.mean, e4.stddev = e4.standardDeviation;
    });
  });
  const { defaultVariable: F2, serviceDataType: P } = y8;
  F2 && F2 !== C2.DefaultVariable && (C2.DefaultVariable = F2), P && P.includes("esriImageServiceDataTypeVector") && !P.includes(C2.DataType) && (C2.DataType = P.replace("esriImageServiceDataType", ""));
  let E2 = y8.noDataValue;
  return ((_f = y8.noDataValues) == null ? void 0 : _f.length) && y8.noDataValues.some((e3) => e3 !== E2) && (E2 = y8.noDataValues), new m3({ width: w5, height: J2, bandCount: y8.bandCount, extent: M.fromJSON(y8.extent), spatialReference: N5, pixelSize: new x({ x: y8.pixelSizeX, y: y8.pixelSizeY, spatialReference: N5 }), pixelType: y8.pixelType.toLowerCase(), statistics: j7, attributeTable: O2, colormap: I3, histograms: z3, keyProperties: C2, noDataValue: E2, multidimensionalInfo: $ });
}
function m9(e3, t5, a13) {
  return u8(e3, { sourceJSON: t5 }, a13);
}
function f8(e3, t5, a13) {
  return u8(e3, { rasterFunction: t5 }, a13);
}

// node_modules/@arcgis/core/rest/support/ImageHistogramParameters.js
var j6;
var d9 = j6 = class extends l {
  constructor() {
    super(...arguments), this.geometry = null, this.mosaicRule = null, this.rasterFunction = null, this.pixelSize = null, this.raster = void 0, this.timeExtent = null;
  }
  writeGeometry(e3, r4, t5) {
    null != e3 && (r4.geometryType = v(e3), r4[t5] = e3.toJSON());
  }
  get renderingRule() {
    return t(s.getLogger(this), "renderingRule", { replacement: "rasterFunction", version: "4.27", warnOnce: true }), this._get("rasterFunction");
  }
  set renderingRule(e3) {
    t(s.getLogger(this), "renderingRule", { replacement: "rasterFunction", version: "4.27", warnOnce: true }), this._set("rasterFunction", e3);
  }
  clone() {
    return new j6(a({ geometry: this.geometry, mosaicRule: this.mosaicRule, rasterFunction: this.rasterFunction, pixelSize: this.pixelSize, raster: this.raster, timeExtent: this.timeExtent }));
  }
};
e([y({ types: n, json: { read: p2 } })], d9.prototype, "geometry", void 0), e([r("geometry")], d9.prototype, "writeGeometry", null), e([y({ type: j4, json: { write: true } })], d9.prototype, "mosaicRule", void 0), e([y({ type: N3 })], d9.prototype, "renderingRule", null), e([y({ type: N3, json: { write: true, name: "renderingRule" } })], d9.prototype, "rasterFunction", void 0), e([y({ type: x, json: { write: true } })], d9.prototype, "pixelSize", void 0), e([y({ json: { write: true } })], d9.prototype, "raster", void 0), e([y({ type: c, json: { read: { source: "time" }, write: { target: "time" } } })], d9.prototype, "timeExtent", void 0), d9 = j6 = e([a2("esri.rest.support.ImageHistogramParameters")], d9);
var h8 = d9;

export {
  l5 as l,
  d6 as d,
  c8 as c,
  p9 as p,
  a7 as a,
  i3 as i,
  n6 as n,
  N3 as N,
  j4 as j,
  c9 as c2,
  t3 as t,
  i7 as i2,
  a11 as a2,
  o6 as o,
  m8 as m,
  f7 as f,
  d7 as d2,
  h7 as h,
  g2 as g,
  D2 as D,
  k,
  S2 as S,
  L,
  E,
  q,
  Q,
  m9 as m2,
  f8 as f2,
  h8 as h2
};
//# sourceMappingURL=chunk-CTIWLBC7.js.map

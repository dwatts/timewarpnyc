import {
  f,
  u
} from "./chunk-AEEOKTRX.js";
import {
  r
} from "./chunk-KGLSZSEH.js";
import {
  c as c2
} from "./chunk-C4XIHFJI.js";
import "./chunk-X7JRTY3V.js";
import "./chunk-VVUQCXYW.js";
import "./chunk-FLVP2XLK.js";
import {
  c
} from "./chunk-G32FVJ4L.js";
import {
  O
} from "./chunk-XJXVKVA7.js";
import "./chunk-HVAOWOGC.js";
import {
  tn
} from "./chunk-2NXAWKLI.js";
import "./chunk-AUKNAK3D.js";
import "./chunk-IR32DXLL.js";
import "./chunk-KGA7WAD3.js";
import "./chunk-C3PCK5WU.js";
import "./chunk-HE256ZWN.js";
import "./chunk-7EG7BYWF.js";
import {
  b
} from "./chunk-PZXYASUU.js";
import "./chunk-5EXFDBQJ.js";
import "./chunk-W3WHCGIQ.js";
import {
  l,
  w
} from "./chunk-HPWZ2OON.js";
import "./chunk-GWA3PLGA.js";
import {
  a as a2,
  e as e2,
  h
} from "./chunk-CNS4YGGN.js";
import "./chunk-UHAU5IXU.js";
import "./chunk-3U2FS2TT.js";
import "./chunk-7JNPZC53.js";
import {
  n as n2,
  t
} from "./chunk-MATER45R.js";
import "./chunk-6UW2VZVV.js";
import {
  V
} from "./chunk-GAARA5JM.js";
import "./chunk-EHNCW2SL.js";
import "./chunk-HIPTG7BJ.js";
import "./chunk-REPJV7SP.js";
import "./chunk-BAMKEIAF.js";
import "./chunk-CZNLCEZN.js";
import "./chunk-DH42JQZX.js";
import "./chunk-J2V5CZSS.js";
import "./chunk-7D57YBLP.js";
import "./chunk-ZF5PVI2P.js";
import "./chunk-EQK73KLU.js";
import "./chunk-OBGBLQQX.js";
import "./chunk-FXYPEAR7.js";
import "./chunk-V3CNLYUD.js";
import "./chunk-TEHNQYQD.js";
import "./chunk-TPJLFGOT.js";
import "./chunk-CQX57DED.js";
import "./chunk-3CQBBMMD.js";
import "./chunk-T35GN7EL.js";
import "./chunk-7U6V6KY2.js";
import "./chunk-NFY4EX6G.js";
import "./chunk-GJ7PJ7XG.js";
import "./chunk-ULGEYK3G.js";
import "./chunk-F3KGLZDZ.js";
import "./chunk-CHTUPHTO.js";
import {
  y
} from "./chunk-453UIKKW.js";
import {
  a2 as a
} from "./chunk-5BLDWPLW.js";
import {
  e
} from "./chunk-PD5Q7TDW.js";
import "./chunk-7G6CKDLW.js";
import "./chunk-FFUMVAL2.js";
import "./chunk-3JQ6N63Z.js";
import "./chunk-U3J7253Q.js";
import "./chunk-FWH3QSBQ.js";
import "./chunk-2UENN434.js";
import {
  n
} from "./chunk-UYRCWUYQ.js";
import "./chunk-HMVAPW5X.js";
import "./chunk-IYZKKFJM.js";
import "./chunk-JZJWZ6DN.js";
import "./chunk-6TJCVOLN.js";

// node_modules/@arcgis/core/analysis/LineOfSightAnalysis.js
var d = V.ofType(f);
var v = class extends c2 {
  constructor(e3) {
    super(e3), this.type = "line-of-sight", this.observer = null, this.extent = null;
  }
  initialize() {
    this.addHandles(l(() => this._computeExtent(), (e3) => {
      null != e3 && null != e3.pending || this._set("extent", null != e3 ? e3.extent : null);
    }, w));
  }
  get targets() {
    return this._get("targets") || new d();
  }
  set targets(e3) {
    this._set("targets", n2(e3, this.targets, d));
  }
  get spatialReference() {
    return null != this.observer && null != this.observer.position ? this.observer.position.spatialReference : null;
  }
  get requiredPropertiesForEditing() {
    return [n(this.observer, (e3) => e3.position)];
  }
  async waitComputeExtent() {
    const e3 = this._computeExtent();
    return null != e3 ? e3.pending : Promise.resolve();
  }
  _computeExtent() {
    const e3 = this.spatialReference;
    if (null == this.observer || null == this.observer.position || null == e3)
      return null;
    const t2 = (e4) => "absolute-height" === r(e4.position, e4.elevationInfo), r2 = this.observer.position, o = a2(r2.x, r2.y, r2.z, r2.x, r2.y, r2.z);
    for (const i of this.targets)
      if (null != i.position) {
        const t3 = tn(i.position, e3);
        if (null != t3.pending)
          return { pending: t3.pending, extent: null };
        if (null != t3.geometry) {
          const { x: e4, y: r3, z: s2 } = t3.geometry;
          h(o, [e4, r3, s2]);
        }
      }
    const s = e2(o, e3);
    return t2(this.observer) && this.targets.every(t2) || (s.zmin = void 0, s.zmax = void 0), { pending: null, extent: s };
  }
  clear() {
    this.observer = null, this.targets.removeAll();
  }
};
e([y({ type: ["line-of-sight"] })], v.prototype, "type", void 0), e([y({ type: u, json: { read: true, write: true } })], v.prototype, "observer", void 0), e([y({ cast: t, type: d, nonNullable: true, json: { read: true, write: true } })], v.prototype, "targets", null), e([y({ value: null, readOnly: true })], v.prototype, "extent", void 0), e([y({ readOnly: true })], v.prototype, "spatialReference", null), e([y({ readOnly: true })], v.prototype, "requiredPropertiesForEditing", null), v = e([a("esri.analysis.LineOfSightAnalysis")], v);
var j = v;

// node_modules/@arcgis/core/layers/LineOfSightLayer.js
var h2 = V.ofType(f);
var d2 = class extends c(O(b)) {
  constructor(e3) {
    super(e3), this.type = "line-of-sight", this.operationalLayerType = "LineOfSightLayer", this.analysis = new j(), this.opacity = 1;
  }
  initialize() {
    this.addHandles(l(() => this.analysis, (e3, s) => {
      null != s && s.parent === this && (s.parent = null), null != e3 && (e3.parent = this);
    }, w));
  }
  async load() {
    return null != this.analysis && this.addResolvingPromise(this.analysis.waitComputeExtent()), this;
  }
  get observer() {
    return n(this.analysis, (e3) => e3.observer);
  }
  set observer(e3) {
    n(this.analysis, (s) => s.observer = e3);
  }
  get targets() {
    return null != this.analysis ? this.analysis.targets : new V();
  }
  set targets(e3) {
    var _a;
    n2(e3, (_a = this.analysis) == null ? void 0 : _a.targets);
  }
  get fullExtent() {
    return null != this.analysis ? this.analysis.extent : null;
  }
  get spatialReference() {
    return null != this.analysis ? this.analysis.spatialReference : null;
  }
  releaseAnalysis(e3) {
    this.analysis === e3 && (this.analysis = new j());
  }
};
e([y({ json: { read: false }, readOnly: true })], d2.prototype, "type", void 0), e([y({ type: ["LineOfSightLayer"] })], d2.prototype, "operationalLayerType", void 0), e([y({ type: u, json: { read: true, write: { isRequired: true, ignoreOrigin: true } } })], d2.prototype, "observer", null), e([y({ type: h2, json: { read: true, write: { ignoreOrigin: true } } })], d2.prototype, "targets", null), e([y({ nonNullable: true, json: { read: false, write: false } })], d2.prototype, "analysis", void 0), e([y({ readOnly: true })], d2.prototype, "fullExtent", null), e([y({ readOnly: true })], d2.prototype, "spatialReference", null), e([y({ readOnly: true, json: { read: false, write: false, origins: { service: { read: false, write: false }, "portal-item": { read: false, write: false }, "web-document": { read: false, write: false } } } })], d2.prototype, "opacity", void 0), e([y({ type: ["show", "hide"] })], d2.prototype, "listMode", void 0), d2 = e([a("esri.layers.LineOfSightLayer")], d2);
var f2 = d2;
export {
  f2 as default
};
//# sourceMappingURL=LineOfSightLayer-TGIQG7DP.js.map

import {
  a as a4,
  e as e4,
  i,
  t as t4
} from "./chunk-FQVGAALF.js";
import {
  T,
  c,
  e as e3,
  m as m3,
  n as n3,
  o,
  t as t3
} from "./chunk-DOLURTZY.js";
import {
  autoMode,
  darkMode
} from "./chunk-5UQMANML.js";
import {
  getAssetPath,
  setAssetPath
} from "./chunk-PZHYCIRU.js";
import {
  n as n2
} from "./chunk-5EXFDBQJ.js";
import {
  h as h2
} from "./chunk-HTVQN75V.js";
import {
  a as a3
} from "./chunk-W3WHCGIQ.js";
import {
  f as f2,
  h,
  l as l2
} from "./chunk-HPWZ2OON.js";
import {
  n
} from "./chunk-J2V5CZSS.js";
import {
  m as m2
} from "./chunk-7D57YBLP.js";
import {
  s as s3
} from "./chunk-JZM5YUHA.js";
import {
  _
} from "./chunk-OBGBLQQX.js";
import {
  s as s2
} from "./chunk-ULGEYK3G.js";
import {
  t2 as t,
  y
} from "./chunk-453UIKKW.js";
import {
  a2
} from "./chunk-5BLDWPLW.js";
import {
  e
} from "./chunk-PD5Q7TDW.js";
import {
  t3 as t2
} from "./chunk-FFUMVAL2.js";
import {
  f
} from "./chunk-3JQ6N63Z.js";
import {
  e2,
  j,
  k,
  l,
  m,
  r2 as r
} from "./chunk-UYRCWUYQ.js";
import {
  s2 as s
} from "./chunk-HMVAPW5X.js";
import {
  a
} from "./chunk-IYZKKFJM.js";

// node_modules/@arcgis/core/core/domUtils.js
function e5(e11) {
  return "string" == typeof e11 ? document.getElementById(e11) : e11 ?? null;
}
function n4(e11) {
  for (; e11.hasChildNodes(); )
    e11.removeChild(e11.firstChild);
}
function o2(e11, n8) {
  const t6 = n8.parentNode;
  t6 && t6.insertBefore(e11, n8);
}
function i2(e11, n8) {
  for (; ; ) {
    const t6 = e11.firstChild;
    if (!t6)
      break;
    n8.appendChild(t6);
  }
}
var l3 = "function" == typeof Element.prototype.closest ? (e11, n8) => e11.closest(n8) : (e11, n8) => {
  let t6 = e11;
  do {
    if (t6.matches(n8))
      return t6;
    t6 = t6.parentElement;
  } while (null !== t6 && 1 === t6.nodeType);
  return null;
};

// node_modules/@esri/calcite-components/dist/components/index.js
function initModeChangeEvent() {
  const { classList } = document.body;
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const getMode = () => classList.contains(darkMode) || classList.contains(autoMode) && prefersDark ? "dark" : "light";
  const emitModeChange = (mode) => document.body.dispatchEvent(new CustomEvent("calciteModeChange", { bubbles: true, detail: { mode } }));
  const modeChangeHandler = (newMode) => {
    currentMode !== newMode && emitModeChange(newMode);
    currentMode = newMode;
  };
  let currentMode = getMode();
  emitModeChange(currentMode);
  window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (event) => modeChangeHandler(event.matches ? "dark" : "light"));
  new MutationObserver(() => modeChangeHandler(getMode())).observe(document.body, {
    attributes: true,
    attributeFilter: ["class"]
  });
}
function appGlobalScript() {
  const isBrowser = typeof window !== "undefined" && typeof location !== "undefined" && typeof document !== "undefined" && window.location === location && window.document === document;
  if (isBrowser) {
    if (document.readyState === "interactive") {
      initModeChangeEvent();
    } else {
      document.addEventListener("DOMContentLoaded", () => initModeChangeEvent(), { once: true });
    }
  }
}
var globalScripts = appGlobalScript;
globalScripts();

// node_modules/@arcgis/core/widgets/support/componentsUtils.js
var c2;
function r2() {
  try {
    getAssetPath(".");
  } catch {
    setAssetPath(_(a3(c2)));
  }
}
function n5(t6) {
  var _a;
  const o4 = [];
  for (const s5 of Object.keys(t6))
    customElements.get(`calcite-${s5}`) || o4.push((_a = t6[s5]) == null ? void 0 : _a.call(t6));
  return Promise.all(o4);
}
c2 = "components/assets";

// node_modules/@arcgis/core/libs/maquette-advanced-projector/advanced-projector-options.js
var e6 = { handleInterceptedEvent: (e11, p, t6, n8) => (e11.scheduleRender(), p.properties[`on${n8.type}`].apply(p.properties.bind || t6, [n8])) };

// node_modules/@arcgis/core/libs/maquette-advanced-projector/utils.js
var e7 = { namespace: void 0, performanceLogger: () => {
}, eventHandlerInterceptor: void 0, styleApplyer: (e11, r5, o4) => {
  e11.style[r5] = o4;
} };
var r3 = (r5) => ({ ...e7, ...r5 });

// node_modules/@arcgis/core/libs/maquette-advanced-projector/projector.js
var o3 = (e11, t6) => {
  const r5 = [];
  for (; e11 && e11 !== t6; )
    r5.push(e11), e11 = e11.parentNode;
  return r5;
};
var n6 = (e11, t6) => e11.find(t6);
var d = (e11, t6, r5 = false) => {
  let o4 = e11;
  return t6.forEach((e12, d2) => {
    const s5 = (o4 == null ? void 0 : o4.children) ? n6(o4.children, (t7) => t7.domNode === e12) : void 0;
    r5 && !s5 && d2 !== t6.length - 1 || (o4 = s5);
  }), o4;
};
var s4 = (n8) => {
  let s5;
  const i3 = { ...e6, ...n8 }, c3 = r3(i3), a5 = c3.performanceLogger;
  let m4, p = true, l4 = false;
  const f3 = [], u = [], h3 = (e11, t6, r5) => {
    var _a;
    let n9;
    c3.eventHandlerInterceptor = (e12, t7, r6, c4) => function(e13) {
      let t8;
      a5("domEvent", e13);
      const r7 = o3(e13.currentTarget, n9.domNode), c5 = r7.some((e14) => {
        var _a2;
        return customElements.get((_a2 = e14 == null ? void 0 : e14.tagName) == null ? void 0 : _a2.toLowerCase());
      });
      if (e13.eventPhase === Event.CAPTURING_PHASE || !c5)
        r7.reverse(), t8 = d(n9.getLastRender(), r7);
      else {
        const r8 = e13.composedPath(), o4 = r8.slice(r8.indexOf(e13.currentTarget), r8.indexOf(n9.domNode)).filter((e14) => e14.getRootNode() === e14.ownerDocument).reverse();
        t8 = d(n9.getLastRender(), o4, true);
      }
      let m6;
      return t8 && (m6 = i3.handleInterceptedEvent(s5, t8, this, e13)), a5("domEventProcessed", e13), m6;
    }, (_a = i3.postProcessProjectionOptions) == null ? void 0 : _a.call(i3, c3);
    const m5 = r5();
    n9 = e11(t6, m5, c3), f3.push(n9), u.push(r5), i3.afterFirstVNodeRendered && i3.afterFirstVNodeRendered(n9, m5);
  };
  let v = () => {
    if (m4 = void 0, p) {
      p = false, a5("renderStart", void 0);
      for (let e11 = 0; e11 < f3.length; e11++) {
        const t6 = u[e11]();
        a5("rendered", void 0), f3[e11].update(t6), a5("patched", void 0);
      }
      a5("renderDone", void 0), p = true;
    }
  };
  return i3.modifyDoRenderImplementation && (v = i3.modifyDoRenderImplementation(v, f3, u)), s5 = { renderNow: v, scheduleRender: () => {
    m4 || l4 || (m4 = requestAnimationFrame(v));
  }, stop: () => {
    m4 && (cancelAnimationFrame(m4), m4 = void 0), l4 = true;
  }, resume: () => {
    l4 = false, p = true, s5.scheduleRender();
  }, append: (t6, r5) => {
    h3(n3.append, t6, r5);
  }, insertBefore: (t6, r5) => {
    h3(n3.insertBefore, t6, r5);
  }, merge: (t6, r5) => {
    h3(n3.merge, t6, r5);
  }, replace: (t6, r5) => {
    h3(n3.replace, t6, r5);
  }, detach: (e11) => {
    for (let t6 = 0; t6 < u.length; t6++)
      if (u[t6] === e11)
        return u.splice(t6, 1), f3.splice(t6, 1)[0];
    throw new Error("renderFunction was not found");
  } }, s5;
};

// node_modules/@arcgis/core/widgets/support/tests.js
var e8 = /* @__PURE__ */ new Set();
function n7(n8) {
  e8.add(n8), n8.finally(() => e8.delete(n8));
}

// node_modules/@arcgis/core/widgets/Widget.js
var $;
var z = "esri.widgets.Widget";
var x = 0;
var A = { widgetIcon: "esri-icon-checkbox-unchecked" };
function B(e11, t6) {
  for (const r5 in t6)
    null != e11[r5] && ("object" == typeof e11[r5] && "object" == typeof t6[r5] ? B(e11[r5], t6 == null ? void 0 : t6[r5]) : e11[r5] = t6[r5]);
  return e11;
}
var D = s4({ postProcessProjectionOptions(e11) {
  const t6 = e11.eventHandlerInterceptor, r5 = /capture$/i;
  e11.eventHandlerInterceptor = (e12, s5, o4, i3) => {
    const n8 = t6 == null ? void 0 : t6(e12, s5, o4, i3), a5 = r5.test(e12);
    if (!((e12 = e12.replace(r5, "")).toLowerCase() in o4) || a5) {
      const t7 = e12[2].toLowerCase() + e12.slice(3), r6 = (e13) => n8 == null ? void 0 : n8.call(o4, e13);
      o4.addEventListener(t7, r6, a5);
      const s6 = () => o4.removeEventListener(t7, r6, a5), c3 = i3.afterRemoved;
      i3.afterRemoved = (e13) => {
        c3 == null ? void 0 : c3(e13), s6();
      };
    }
    return n8;
  };
}, handleInterceptedEvent(e11, t6, r5, s5) {
  const { eventPhase: o4, type: i3 } = s5, n8 = o4 === Event.CAPTURING_PHASE;
  let a5 = `on${i3}${n8 ? "capture" : ""}`;
  const c3 = t6.properties;
  (c3 && a5 in c3 || (a5 = `on${i3[0].toUpperCase()}${i3.slice(1)}${n8 ? "Capture" : ""}`, c3 && a5 in c3)) && (t3(), e11.scheduleRender(), c3[a5].call(c3.bind || r5, s5));
} });
var M = false;
var O = class extends m2(n.EventedAccessor) {
  constructor(e11, t6) {
    super(e11, t6), this._attached = false, this._internalHandles = new t(), this._projector = D, this._readyForTrueRender = false, this.iconClass = A.widgetIcon, this.icon = null, this.key = this, this._loadLocale = k(async () => {
      if (this._messageBundleProps && this._messageBundleProps.length) {
        const e12 = await j(this._messageBundleProps.map(async ({ bundlePath: e13, propertyName: t7 }) => {
          if (this.destroyed)
            return;
          let r6 = await h2(e13);
          this.uiStrings && Object.keys(this.uiStrings) && (r6 = B(a(r6), this.uiStrings)), this[t7] = r6;
        }));
        if (this.destroyed)
          return;
        for (const t7 of e12)
          t7.error && s.getLogger(this).error("widget-intl:locale-error", this.declaredClass, t7.error);
      }
      await this.loadLocale();
    }), r2();
    const r5 = "esri-widget-uid-" + n2(), s5 = this.render.bind(this);
    this._trackingTarget = new t2(() => this.scheduleRender());
    const o4 = () => {
      var _a;
      if (!this._readyForTrueRender || this.destroyed)
        return null;
      const e12 = s5();
      let { properties: t7 } = e12;
      t7 || (e12.properties = t7 = {});
      const { key: o5 } = t7;
      o5 || (t7.key = r5), this.visible ? t7.styles || (t7.styles = {}) : (t7.class = "", t7.styles = { display: "none" }), t7.styles.display || (t7.styles.display = "");
      let i3 = 0;
      return (_a = e12.children) == null ? void 0 : _a.forEach((e13) => {
        if (a4(e13.vnodeSelector))
          return;
        let { properties: t8 } = e13;
        t8 || (e13.properties = t8 = {}), t8.key || (t8.key = `${this.id}--${i3++}`);
      }), i(this, e12);
    };
    this.render = () => {
      if (M)
        return o4();
      let e12 = e3(this) ?? null;
      if (e12)
        return e12;
      this._trackingTarget.clear(), M = true;
      try {
        e12 = f(this._trackingTarget, o4);
      } catch (t7) {
        throw console.error(t7), t7;
      } finally {
        M = false;
      }
      return e12 && c(this, e12), e12;
    }, this.addResolvingPromise(this._resourcesFetch = this.beforeFirstRender().then(() => {
      this._readyForTrueRender = true, this._postInitialize();
    })), n7(this._resourcesFetch);
  }
  normalizeCtorArgs(e11, t6) {
    const r5 = { ...e11 };
    return t6 && (r5.container = t6), r5;
  }
  postInitialize() {
  }
  beforeFirstRender() {
    return Promise.all([this.loadDependencies(), this._loadLocale()]).then(() => {
    }).catch(m);
  }
  async loadDependencies() {
  }
  async loadLocale() {
  }
  destroy() {
    this.destroyed || (l(this._trackingTarget), l(this.viewModel), this._detach(this.container), this._set("container", null), this._internalHandles.destroy(), this._emitter.clear(), this.render = () => null, this._projector = null, o(this));
  }
  set container(e11) {
    this._get("container") || this._set("container", e11);
  }
  castContainer(e11) {
    return e5(e11);
  }
  get domNode() {
    return this.container;
  }
  set domNode(e11) {
    this.container = e11;
  }
  get id() {
    return this._get("id") || this.get("container.id") || Date.now().toString(16) + "-widget-" + x++;
  }
  set id(e11) {
    e11 && this._set("id", e11);
  }
  get label() {
    return this.declaredClass.split(".").pop();
  }
  set label(e11) {
    this._overrideIfSome("label", e11);
  }
  get renderable() {
    return this._resourcesFetch;
  }
  get visible() {
    return this._get("visible");
  }
  set visible(e11) {
    this._set("visible", e11);
  }
  get [($ = t4, e4)]() {
    return { projector: this._projector };
  }
  render() {
    throw new Error("not implemented");
  }
  scheduleRender() {
    this.destroyed || (o(this), this._projector.scheduleRender());
  }
  classes(...e11) {
    return m3.apply(this, e11);
  }
  renderNow() {
    o(this), this._projector.renderNow();
  }
  _postInitialize() {
    var _a;
    if (this.destroyed)
      return;
    this.scheduleRender(), ((_a = this._delegatedEventNames) == null ? void 0 : _a.length) && this._internalHandles.add(l2(() => this.viewModel, (e12, t6) => {
      t6 && this._internalHandles.remove("delegated-events"), e12 && e2(e12) && this._internalHandles.add(this._delegatedEventNames.map((t7) => r(e12, t7, (e13) => {
        this.emit(t7, e13);
      })), "delegated-events");
    }, h)), this.postInitialize();
    const e11 = async () => {
      await this._loadLocale().catch(m), this.scheduleRender();
    };
    this._internalHandles.add([s3(e11), l2(() => this.uiStrings, e11), f2(() => this.container, (e12) => {
      this.destroyed || this._attach(e12);
    }, { initial: true, once: true })]);
  }
  _attach(e11) {
    e11 && (this._projector.merge(e11, this.render), this._attached = true);
  }
  _detach(e11) {
    var _a;
    this._attached && (this._projector.detach(this.render), this._attached = false), (_a = e11 == null ? void 0 : e11.parentNode) == null ? void 0 : _a.removeChild(e11);
  }
};
O[$] = true, e([y()], O.prototype, "_readyForTrueRender", void 0), e([y({ value: null })], O.prototype, "container", null), e([s2("container")], O.prototype, "castContainer", null), e([y()], O.prototype, "iconClass", void 0), e([y()], O.prototype, "icon", void 0), e([y()], O.prototype, "id", null), e([y()], O.prototype, "label", null), e([y()], O.prototype, "renderable", null), e([y()], O.prototype, "uiStrings", void 0), e([y()], O.prototype, "viewModel", void 0), e([y({ value: true })], O.prototype, "visible", null), e([y()], O.prototype, "key", void 0), e([y()], O.prototype, "children", void 0), e([y()], O.prototype, "afterCreate", void 0), e([y()], O.prototype, "afterUpdate", void 0), e([y()], O.prototype, "afterRemoved", void 0), O = e([a2(z)], O);
var W = O;

// node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js
function e9(e11) {
  return (s5, r5) => {
    s5.hasOwnProperty("_messageBundleProps") || (s5._messageBundleProps = s5._messageBundleProps ? s5._messageBundleProps.slice() : []);
    s5._messageBundleProps.push({ bundlePath: e11, propertyName: r5 });
  };
}

// node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js
function t5() {
  return function(n8, t6) {
    if (!n8[t6])
      throw new TypeError(`Cannot auto bind undefined function '${String(t6)}'`);
    return { value: r4(n8[t6]) };
  };
}
function e10(n8) {
  const t6 = n8 == null ? void 0 : n8.type;
  return n8 instanceof KeyboardEvent || "keyup" === t6 || "keydown" === t6 || "keypress" === t6;
}
function r4(t6) {
  return function(r5, ...o4) {
    e10(r5) ? T(r5.key) && (r5.preventDefault(), r5.stopPropagation(), r5.target.click()) : t6.call(this, r5, ...o4);
  };
}

export {
  e5 as e,
  n4 as n,
  o2 as o,
  i2 as i,
  n5 as n2,
  W,
  e9 as e2,
  t5 as t
};
/*! Bundled license information:

@esri/calcite-components/dist/components/index.js:
  (*!
   * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
   * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
   * v1.5.0
   *)
*/
//# sourceMappingURL=chunk-N34PJZVR.js.map

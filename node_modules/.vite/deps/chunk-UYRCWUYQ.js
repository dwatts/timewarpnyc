import {
  s2 as s,
  s3 as s2
} from "./chunk-HMVAPW5X.js";

// node_modules/@arcgis/core/core/maybe.js
function n(n2, u2) {
  return null != n2 ? u2(n2) : null;
}
function u(n2, u2) {
  return r(n2, u2), n2;
}
function r(n2, u2) {
  if (null == n2)
    throw new Error(u2 ?? "value is None");
}
function l(n2) {
  return n2 == null ? void 0 : n2.destroy(), null;
}
function t(n2) {
  return n2 == null ? void 0 : n2.dispose(), null;
}
function o(n2) {
  return n2 == null ? void 0 : n2.remove(), null;
}
function e(n2) {
  return n2 == null ? void 0 : n2.abort(), null;
}
function f(n2) {
  return n2 == null ? void 0 : n2.release(), null;
}
function c(n2, u2, r3) {
  return null != n2 && null != u2 ? null != r3 ? r3(n2, u2) : n2.equals(u2) : n2 === u2;
}
function i(n2) {
  return null;
}
function s3(n2, u2) {
  const r3 = new Array();
  for (const l3 of n2)
    r3.push(null != l3 ? u2(l3) : null);
  return r3;
}
function a(u2, r3) {
  for (const l3 of u2)
    n(l3, r3);
}
function p(n2) {
  return n2;
}

// node_modules/@arcgis/core/core/events.js
function e2(e4) {
  return e4 && ("function" == typeof e4.on || "function" == typeof e4.addEventListener);
}
function r2(r3, t4, n2) {
  if (!e2(r3))
    throw new TypeError("target is not a Evented or EventTarget object");
  if ("on" in r3)
    return r3.on(t4, n2);
  if (Array.isArray(t4)) {
    const e4 = t4.slice();
    for (const t5 of e4)
      r3.addEventListener(t5, n2);
    return { remove() {
      for (const t5 of e4)
        r3.removeEventListener(t5, n2);
    } };
  }
  return r3.addEventListener(t4, n2), { remove() {
    r3.removeEventListener(t4, n2);
  } };
}
function t2(t4, n2, o3) {
  if (!e2(t4))
    throw new TypeError("target is not a Evented or EventTarget object");
  if ("once" in t4)
    return t4.once(n2, o3);
  const i3 = r2(t4, n2, (e4) => {
    i3.remove(), o3.call(t4, e4);
  });
  return { remove() {
    i3.remove();
  } };
}
var o2 = { Win: "Meta", Scroll: "ScrollLock", Spacebar: " ", Down: "ArrowDown", Left: "ArrowLeft", Right: "ArrowRight", Up: "ArrowUp", Del: "Delete", Apps: "ContextMenu", Esc: "Escape", Multiply: "*", Add: "+", Subtract: "-", Decimal: ".", Divide: "/" };
function i2({ key: e4 }) {
  return o2[e4] || e4;
}

// node_modules/@arcgis/core/core/clock.js
function e3(e4) {
  return { setTimeout: (t4, o3) => {
    const r3 = e4.setTimeout(t4, o3);
    return { remove: () => e4.clearTimeout(r3) };
  } };
}
var t3 = e3(globalThis);

// node_modules/@arcgis/core/core/promiseUtils.js
function c2(t4 = "Aborted") {
  return new s2("AbortError", t4);
}
function s4(t4, r3 = "Aborted") {
  if (a2(t4))
    throw c2(r3);
}
function l2(t4) {
  return null != t4 ? "aborted" in t4 ? t4 : t4.signal : t4;
}
function a2(t4) {
  const r3 = l2(t4);
  return null != r3 && r3.aborted;
}
function f2(t4) {
  if (d(t4))
    throw t4;
}
function m(t4) {
  if (!d(t4))
    throw t4;
}
function w(t4, r3) {
  const e4 = l2(t4);
  if (null != e4) {
    if (!e4.aborted)
      return t2(e4, "abort", () => r3());
    r3();
  }
}
function h(t4, r3) {
  const e4 = l2(t4);
  if (null != e4)
    return s4(e4), t2(e4, "abort", () => r3(c2()));
}
function p2(t4, r3) {
  return null == l2(r3) ? t4 : new Promise((n2, e4) => {
    let i3 = w(r3, () => e4(c2()));
    const u2 = () => i3 = o(i3);
    t4.then(u2, u2), t4.then(n2, e4);
  });
}
function d(t4) {
  return "AbortError" === (t4 == null ? void 0 : t4.name);
}
async function y(t4) {
  try {
    return await t4;
  } catch (r3) {
    if (!d(r3))
      throw r3;
    return;
  }
}
async function v(t4, r3 = s.getLogger("esri")) {
  try {
    return await t4;
  } catch (n2) {
    d(n2) || r3.error(n2);
  }
}
async function j(t4) {
  if (!t4)
    return;
  if ("function" != typeof t4.forEach) {
    const r4 = Object.keys(t4), n2 = r4.map((r5) => t4[r5]), e4 = await j(n2), o3 = {};
    return r4.map((t5, r5) => o3[t5] = e4[r5]), o3;
  }
  const r3 = t4;
  return Promise.allSettled(r3).then((t5) => Array.from(r3, (r4, n2) => {
    const e4 = t5[n2];
    return "fulfilled" === e4.status ? { promise: r4, value: e4.value } : { promise: r4, error: e4.reason };
  }));
}
async function P(t4) {
  return (await j(t4)).filter((t5) => !!t5.value).map((t5) => t5.value);
}
function g(t4, r3 = void 0, n2) {
  const e4 = new AbortController();
  return w(n2, () => e4.abort()), new Promise((n3, o3) => {
    let i3 = setTimeout(() => {
      i3 = 0, n3(r3);
    }, t4);
    w(e4, () => {
      i3 && (clearTimeout(i3), o3(c2()));
    });
  });
}
function T(t4) {
  return t4 && "function" == typeof t4.then;
}
function E(t4) {
  return T(t4) ? t4 : Promise.resolve(t4);
}
function k(t4, r3 = -1) {
  let n2, e4, o3, u2, s5 = null;
  const l3 = (...a3) => {
    if (n2) {
      e4 = a3, u2 && u2.reject(c2()), u2 = C();
      const t5 = p(u2.promise);
      if (s5) {
        const t6 = s5;
        s5 = null, t6.abort();
      }
      return t5;
    }
    if (o3 = u2 || C(), u2 = null, r3 > 0) {
      const e5 = new AbortController();
      n2 = E(t4(...a3, e5.signal));
      const o4 = n2;
      g(r3).then(() => {
        n2 === o4 && (u2 ? e5.abort() : s5 = e5);
      });
    } else
      n2 = 1, n2 = E(t4(...a3));
    const f3 = () => {
      const t5 = e4;
      e4 = o3 = n2 = s5 = null, null != t5 && l3(...t5);
    }, m2 = n2, w2 = o3;
    return m2.then(f3, f3), m2.then(w2.resolve, w2.reject), p(w2.promise);
  };
  return l3;
}
function C() {
  let r3, n2;
  const e4 = new Promise((t4, e5) => {
    r3 = t4, n2 = e5;
  }), o3 = (t4) => {
    r3(t4);
  };
  return o3.resolve = (t4) => r3(t4), o3.reject = (t4) => n2(t4), o3.timeout = (r4, n3) => t3.setTimeout(() => o3.reject(n3), r4), o3.promise = e4, o3;
}
function L(t4, r3) {
  return t4.then(r3, r3);
}
async function $(t4) {
  await Promise.resolve(), s4(t4);
}

export {
  n,
  u,
  r,
  l,
  t,
  o,
  e,
  f,
  c,
  i,
  s3 as s,
  a,
  p,
  t3 as t2,
  e2,
  r2,
  i2,
  c2,
  s4 as s2,
  a2,
  f2,
  m,
  w,
  h,
  p2,
  d,
  y,
  v,
  j,
  P,
  g,
  T,
  E,
  k,
  C,
  L,
  $
};
//# sourceMappingURL=chunk-UYRCWUYQ.js.map
